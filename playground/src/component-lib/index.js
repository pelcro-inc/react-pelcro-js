import e,{useContext as t,useState as r,useEffect as n,createContext as o,useCallback as a,useReducer as i,Component as s,useMemo as l}from"react";import c from"prop-types";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){p(e,t,r[t])}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?y(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function x(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var r;console&&console[e]&&(r=console)[e].apply(r,x(t))}},S=new(function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(this,e),this.init(t,r)}return h(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||P,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,r,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,d({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),C=function(){function e(){m(this,e),this.observers={}}return h(e,[{key:"on",value:function(e,t){var r=this;return e.split(" ").forEach((function(e){r.observers[e]=r.observers[e]||[],r.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this.observers[e]){var o=[].concat(this.observers[e]);o.forEach((function(e){e.apply(void 0,r)}))}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach((function(t){t.apply(t,[e].concat(r))}))}}}]),e}();function _(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return r.resolve=e,r.reject=t,r}function j(e){return null==e?"":""+e}function k(e,t,r){e.forEach((function(e){t[e]&&(r[e]=t[e])}))}function A(e,t,r){function n(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}for(var a="string"!=typeof t?[].concat(t):t.split(".");a.length>1;){if(o())return{};var i=n(a.shift());!e[i]&&r&&(e[i]=new r),e=e[i]}return o()?{}:{obj:e,k:n(a.shift())}}function T(e,t,r){var n=A(e,t,Object);n.obj[n.k]=r}function R(e,t){var r=A(e,t),n=r.obj,o=r.k;if(n)return n[o]}function L(e,t,r){var n=R(e,r);return void 0!==n?n:R(t,r)}function D(e,t,r){for(var n in t)n in e?"string"==typeof e[n]||e[n]instanceof String||"string"==typeof t[n]||t[n]instanceof String?r&&(e[n]=t[n]):D(e[n],t[n],r):e[n]=t[n];return e}function I(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function V(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return F[e]})):e}var q=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return m(this,t),r=b(this,g(t).call(this)),C.call(y(r)),r.data=e||{},r.options=n,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r}return E(t,C),h(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=[e,t];return r&&"string"!=typeof r&&(a=a.concat(r)),r&&"string"==typeof r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split(".")),R(this.data,a)}},{key:"addResource",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var i=[e,t];r&&(i=i.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(n=t,t=(i=e.split("."))[1]),this.addNamespaces(t),T(this.data,i,n),o.silent||this.emit("added",e,t,r,n)}},{key:"addResources",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in r)"string"!=typeof r[o]&&"[object Array]"!==Object.prototype.toString.apply(r[o])||this.addResource(e,t,o,r[o],{silent:!0});n.silent||this.emit("added",e,t,r)}},{key:"addResourceBundle",value:function(e,t,r,n,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},i=[e,t];e.indexOf(".")>-1&&(n=r,r=t,t=(i=e.split("."))[1]),this.addNamespaces(t);var s=R(this.data,i)||{};n?D(s,r,o):s=d({},s,r),T(this.data,i,s),a.silent||this.emit("added",e,t,r)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?d({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(),U={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,r,n,o){var a=this;return e.forEach((function(e){a.processors[e]&&(t=a.processors[e].process(t,r,n,o))})),t}},M={},z=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m(this,t),r=b(this,g(t).call(this)),C.call(y(r)),k(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,y(r)),r.options=n,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=S.create("translator"),r}return E(t,C),h(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},r=this.resolve(e,t);return r&&void 0!==r.res}},{key:"extractFromKey",value:function(e,t){var r=t.nsSeparator||this.options.nsSeparator;void 0===r&&(r=":");var n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS;if(r&&e.indexOf(r)>-1){var a=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(a[0])>-1)&&(o=a.shift()),e=a.join(n)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:"translate",value:function(e,t){var r=this;if("object"!==u(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=this.extractFromKey(e[e.length-1],t),a=o.key,i=o.namespaces,s=i[i.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){var p=t.nsSeparator||this.options.nsSeparator;return s+p+a}return a}var m=this.resolve(e,t),f=m&&m.res,h=m&&m.usedKey||a,y=m&&m.exactUsedKey||a,b=Object.prototype.toString.apply(f),g=["[object Number]","[object Function]","[object RegExp]"],v=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,w="string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f;if(E&&f&&w&&g.indexOf(b)<0&&("string"!=typeof v||"[object Array]"!==b)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,f,t):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(n){var N="[object Array]"===b,x=N?[]:{},O=N?y:h;for(var P in f)if(Object.prototype.hasOwnProperty.call(f,P)){var S="".concat(O).concat(n).concat(P);x[P]=this.translate(S,d({},t,{joinArrays:!1,ns:i})),x[P]===S&&(x[P]=f[P])}f=x}}else if(E&&"string"==typeof v&&"[object Array]"===b)(f=f.join(v))&&(f=this.extendTranslation(f,e,t));else{var C=!1,_=!1;if(!this.isValidLookup(f)&&void 0!==t.defaultValue){if(C=!0,void 0!==t.count){var j=this.pluralResolver.getSuffix(l,t.count);f=t["defaultValue".concat(j)]}f||(f=t.defaultValue)}this.isValidLookup(f)||(_=!0,f=a);var k=t.defaultValue&&t.defaultValue!==f&&this.options.updateMissing;if(_||C||k){this.logger.log(k?"updateKey":"missingKey",l,s,a,k?t.defaultValue:f);var A=[],T=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&T&&T[0])for(var R=0;R<T.length;R++)A.push(T[R]);else"all"===this.options.saveMissingTo?A=this.languageUtils.toResolveHierarchy(t.lng||this.language):A.push(t.lng||this.language);var L=function(e,n){r.options.missingKeyHandler?r.options.missingKeyHandler(e,s,n,k?t.defaultValue:f,k,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,s,n,k?t.defaultValue:f,k,t),r.emit("missingKey",e,s,n,f)};if(this.options.saveMissing){var D=void 0!==t.count&&"string"!=typeof t.count;this.options.saveMissingPlurals&&D?A.forEach((function(e){r.pluralResolver.getPluralFormsOfKey(e,a).forEach((function(t){return L([e],t)}))})):L(A,a)}}f=this.extendTranslation(f,e,t,m),_&&f===a&&this.options.appendNamespaceToMissingKey&&(f="".concat(s,":").concat(a)),_&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f}},{key:"extendTranslation",value:function(e,t,r,n){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,r,n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(d({},r,{interpolation:d({},this.options.interpolation,r.interpolation)}));var a=r.replace&&"string"!=typeof r.replace?r.replace:r;this.options.interpolation.defaultVariables&&(a=d({},this.options.interpolation.defaultVariables,a)),e=this.interpolator.interpolate(e,a,r.lng||this.language,r),!1!==r.nest&&(e=this.interpolator.nest(e,(function(){return o.translate.apply(o,arguments)}),r)),r.interpolation&&this.interpolator.reset()}var i=r.postProcess||this.options.postProcess,s="string"==typeof i?[i]:i;return null!=e&&s&&s.length&&!1!==r.applyPostProcessor&&(e=U.handle(s,e,t,this.options&&this.options.postProcessPassResolved?d({i18nResolved:n},r):r,this)),e}},{key:"resolve",value:function(e){var t,r,n,o,a,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!i.isValidLookup(t)){var l=i.extractFromKey(e,s),c=l.key;r=c;var u=l.namespaces;i.options.fallbackNS&&(u=u.concat(i.options.fallbackNS));var p=void 0!==s.count&&"string"!=typeof s.count,d=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,m=s.lngs?s.lngs:i.languageUtils.toResolveHierarchy(s.lng||i.language,s.fallbackLng);u.forEach((function(e){i.isValidLookup(t)||(a=e,!M["".concat(m[0],"-").concat(e)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(a)&&(M["".concat(m[0],"-").concat(e)]=!0,i.logger.warn('key "'.concat(r,'" for namespace "').concat(a,'" for languages "').concat(m.join(", "),"\" won't get resolved as namespace was not yet loaded"),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach((function(r){if(!i.isValidLookup(t)){o=r;var a,l,u=c,m=[u];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(m,c,r,e,s);else p&&(a=i.pluralResolver.getSuffix(r,s.count)),p&&d&&m.push(u+a),d&&m.push(u+="".concat(i.options.contextSeparator).concat(s.context)),p&&m.push(u+=a);for(;l=m.pop();)i.isValidLookup(t)||(n=l,t=i.getResource(r,e,l,s))}})))}))}})),{res:t,usedKey:r,exactUsedKey:n,usedLng:o,usedNS:a}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}}]),t}();function B(e){return e.charAt(0).toUpperCase()+e.slice(1)}var H=function(){function e(t){m(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=S.create("languageUtils")}return h(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],r=e.split("-");return this.options.lowerCaseLng?r=r.map((function(e){return e.toLowerCase()})):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=B(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=B(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=B(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e.default),r||[]}},{key:"toResolveHierarchy",value:function(e,t){var r=this,n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],a=function(e){e&&(r.isWhitelisted(e)?o.push(e):r.logger.warn("rejecting non-whitelisted language code: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"==typeof e&&a(this.formatLanguageCode(e)),n.forEach((function(e){o.indexOf(e)<0&&a(r.formatLanguageCode(e))})),o}}]),e}(),W=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],G={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1===e?0:2===e?1:(e<0||e>10)&&e%10==0?2:3)}};function Y(){var e={};return W.forEach((function(t){t.lngs.forEach((function(r){e[r]={numbers:t.nr,plurals:G[t.fc]}}))})),e}var K=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(this,e),this.languageUtils=t,this.options=r,this.logger=S.create("pluralResolver"),this.rules=Y()}return h(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var r=this,n=[],o=this.getRule(e);return o?(o.numbers.forEach((function(o){var a=r.getSuffix(e,o);n.push("".concat(t).concat(a))})),n):n}},{key:"getSuffix",value:function(e,t){var r=this,n=this.getRule(e);if(n){var o=n.noAbs?n.plurals(t):n.plurals(Math.abs(t)),a=n.numbers[o];this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var i=function(){return r.options.prepend&&a.toString()?r.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_".concat(a.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]?i():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),$=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,e),this.logger=S.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return h(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:V,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?I(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?I(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?I(t.nestingPrefix):t.nestingPrefixEscaped||I("$t("),this.nestingSuffix=t.nestingSuffix?I(t.nestingSuffix):t.nestingSuffixEscaped||I(")"),this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function(e,t,r,n){var o,a,i,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var o=L(t,l,e);return s.alwaysFormat?s.format(o,void 0,r):o}var a=e.split(s.formatSeparator),i=a.shift().trim(),c=a.join(s.formatSeparator).trim();return s.format(L(t,l,i),c,r,n)};this.resetRegExp();var p=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler;for(i=0;o=this.regexpUnescape.exec(e);){if(void 0===(a=u(o[1].trim())))if("function"==typeof p){var d=p(e,o,n);a="string"==typeof d?d:""}else this.logger.warn("missed to pass in variable ".concat(o[1]," for interpolating ").concat(e)),a="";else"string"==typeof a||this.useRawValueToEscape||(a=j(a));if(e=e.replace(o[0],c(a)),this.regexpUnescape.lastIndex=0,++i>=this.maxReplaces)break}for(i=0;o=this.regexp.exec(e);){if(void 0===(a=u(o[1].trim())))if("function"==typeof p){var m=p(e,o,n);a="string"==typeof m?m:""}else this.logger.warn("missed to pass in variable ".concat(o[1]," for interpolating ").concat(e)),a="";else"string"==typeof a||this.useRawValueToEscape||(a=j(a));if(a=this.escapeValue?c(this.escape(a)):c(a),e=e.replace(o[0],a),this.regexp.lastIndex=0,++i>=this.maxReplaces)break}return e}},{key:"nest",value:function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=d({},o);function i(e,t){if(e.indexOf(",")<0)return e;var r=e.split(",");e=r.shift();var n=r.join(",");n=(n=this.interpolate(n,a)).replace(/'/g,'"');try{a=JSON.parse(n),t&&(a=d({},t,a))}catch(t){this.logger.error("failed parsing options string in nesting for key ".concat(e),t)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;r=this.nestingRegexp.exec(e);){if((n=t(i.call(this,r[1].trim(),a),a))&&r[0]===e&&"string"!=typeof n)return n;"string"!=typeof n&&(n=j(n)),n||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(e)),n=""),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}}]),e}();var J=function(e){function t(e,r,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return m(this,t),o=b(this,g(t).call(this)),C.call(y(o)),o.backend=e,o.store=r,o.services=n,o.languageUtils=n.languageUtils,o.options=a,o.logger=S.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,a.backend,a),o}return E(t,C),h(t,[{key:"queueLoad",value:function(e,t,r,n){var o=this,a=[],i=[],s=[],l=[];return e.forEach((function(e){var n=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!r.reload&&o.store.hasResourceBundle(e,t)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?i.indexOf(s)<0&&i.push(s):(o.state[s]=1,n=!1,i.indexOf(s)<0&&i.push(s),a.indexOf(s)<0&&a.push(s),l.indexOf(t)<0&&l.push(t)))})),n||s.push(e)})),(a.length||i.length)&&this.queue.push({pending:i,loaded:{},errors:[],callback:n}),{toLoad:a,pending:i,toLoadLanguages:s,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,r){var n=O(e.split("|"),2),o=n[0],a=n[1];t&&this.emit("failedLoading",o,a,t),r&&this.store.addResourceBundle(o,a,r),this.state[e]=t?-1:2;var i={};this.queue.forEach((function(r){var n,s,l,c,u,p;n=r.loaded,s=a,c=A(n,[o],Object),u=c.obj,p=c.k,u[p]=u[p]||[],l&&(u[p]=u[p].concat(s)),l||u[p].push(s),function(e,t){for(var r=e.indexOf(t);-1!==r;)e.splice(r,1),r=e.indexOf(t)}(r.pending,e),t&&r.errors.push(t),0!==r.pending.length||r.done||(Object.keys(r.loaded).forEach((function(e){i[e]||(i[e]=[]),r.loaded[e].length&&r.loaded[e].forEach((function(t){i[e].indexOf(t)<0&&i[e].push(t)}))})),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,i=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[r](e,t,(function(s,l){s&&l&&o<5?setTimeout((function(){n.read.call(n,e,t,r,o+1,2*a,i)}),a):i(s,l)})):i(null,{})}},{key:"prepareLoading",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var a=this.queueLoad(e,t,n,o);if(!a.toLoad.length)return a.pending.length||o(),null;a.toLoad.forEach((function(e){r.loadOne(e)}))}},{key:"load",value:function(e,t,r){this.prepareLoading(e,t,{},r)}},{key:"reload",value:function(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}},{key:"loadOne",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("|"),o=O(n,2),a=o[0],i=o[1];this.read(a,i,"read",void 0,void 0,(function(n,o){n&&t.logger.warn("".concat(r,"loading namespace ").concat(i," for language ").concat(a," failed"),n),!n&&o&&t.logger.log("".concat(r,"loaded namespace ").concat(i," for language ").concat(a),o),t.loaded(e,n,o)}))}},{key:"saveMissing",value:function(e,t,r,n,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(r,'" for namespace "').concat(t,'" as the namespace was not yet loaded'),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=r&&""!==r&&(this.backend&&this.backend.create&&this.backend.create(e,t,r,n,null,d({},a,{isUpdate:o})),e&&e[0]&&this.store.addResource(e[0],t,r,n))}}]),t}();function Q(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===u(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===u(e[2])||"object"===u(e[3])){var r=e[3]||e[2];Object.keys(r).forEach((function(e){t[e]=r[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,r,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}function Z(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e}function X(){}var ee=new(function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(m(this,t),e=b(this,g(t).call(this)),C.call(y(e)),e.options=Z(r),e.services={},e.logger=S,e.modules={external:[]},n&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,n),b(e,y(e));setTimeout((function(){e.init(r,n)}),0)}return e}return E(t,C),h(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;function n(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(r=t,t={}),this.options=d({},Q(),this.options,Z(t)),this.format=this.options.interpolation.format,r||(r=X),!this.options.isClone){this.modules.logger?S.init(n(this.modules.logger),this.options):S.init(null,this.options);var o=new H(this.options);this.store=new q(this.options.resources,this.options);var a=this.services;a.logger=S,a.resourceStore=this.store,a.languageUtils=o,a.pluralResolver=new K(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new $(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new J(n(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit.apply(e,[t].concat(n))})),this.modules.languageDetector&&(a.languageDetector=n(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=n(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new z(this.services,this.options),this.translator.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit.apply(e,[t].concat(n))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}this.modules.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var i=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"];i.forEach((function(t){e[t]=function(){var r;return(r=e.store)[t].apply(r,arguments)}}));var s=_(),l=function(){e.changeLanguage(e.options.lng,(function(t,n){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),s.resolve(n),r(t,n)}))};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),s}},{key:"loadResources",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,n=r,o="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&"cimode"===o.toLowerCase())return n();var a=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};if(o)i(o);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return i(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(a,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(e,t,r){var n=_();return e||(e=this.languages),t||(t=this.options.ns),r||(r=X),this.services.backendConnector.reload(e,t,(function(e){n.resolve(),r(e)})),n}},{key:"use",value:function(e){return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&U.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var r=this;this.isLanguageChangingTo=e;var n=_();this.emit("languageChanging",e);var o=function(e){e&&(r.language||(r.language=e,r.languages=r.services.languageUtils.toResolveHierarchy(e)),r.translator.language||r.translator.changeLanguage(e),r.services.languageDetector&&r.services.languageDetector.cacheUserLanguage(e)),r.loadResources(e,(function(o){!function(e,o){o?(r.language=o,r.languages=r.services.languageUtils.toResolveHierarchy(o),r.translator.changeLanguage(o),r.isLanguageChangingTo=void 0,r.emit("languageChanged",o),r.logger.log("languageChanged",o)):r.isLanguageChangingTo=void 0,n.resolve((function(){return r.t.apply(r,arguments)})),t&&t(e,(function(){return r.t.apply(r,arguments)}))}(o,e)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),n}},{key:"getFixedT",value:function(e,t){var r=this,n=function e(t,n){var o;if("object"!==u(n)){for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];o=r.options.overloadTranslationOptionHandler([t,n].concat(i))}else o=d({},n);return o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,r.t(t,o)};return"string"==typeof e?n.lng=e:n.lngs=e,n.ns=t,n}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this;if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.languages[0],n=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,r){var n=t.services.backendConnector.state["".concat(e,"|").concat(r)];return-1===n||2===n};return!!this.hasResourceBundle(r,e)||(!this.services.backendConnector.backend||!(!a(r,e)||n&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var r=this,n=_();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){r.options.ns.indexOf(e)<0&&r.options.ns.push(e)})),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var r=_();"string"==typeof e&&(e=[e]);var n=this.options.preload||[],o=e.filter((function(e){return n.indexOf(e)<0}));return o.length?(this.options.preload=n.concat(o),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new t(e,r)}},{key:"cloneInstance",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,o=d({},this.options,r,{isClone:!0}),a=new t(o),i=["store","services","language"];return i.forEach((function(t){a[t]=e[t]})),a.translator=new z(a.services,a.options),a.translator.on("*",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];a.emit.apply(a,[e].concat(r))})),a.init(o,n),a.translator.options=a.options,a}}]),t}());var te=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o};var re=function(e,t){if(null==e)return{};var r,n,o=te(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o};var ne=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},oe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ae(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ie(e,t){return e(t={exports:{}},t.exports),t.exports}ie((function(e){function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(r)}e.exports=t}));var se=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ce=function(e,t,r){return t&&le(e.prototype,t),r&&le(e,r),e};function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(r,!0).forEach((function(t){ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de,me={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},fe=e.createContext();function he(){return me}var ye=function(){function e(){se(this,e),this.usedNamespaces={}}return ce(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function be(){return de}var ge={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};me=pe({},me,{},e)}(e.options.react),function(e){de=e}(e)}};function ve(){if(console&&console.warn){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];"string"==typeof r[0]&&(r[0]="react-i18next:: ".concat(r[0])),(e=console).warn.apply(e,r)}}var Ee={};function we(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];"string"==typeof t[0]&&Ee[t[0]]||("string"==typeof t[0]&&(Ee[t[0]]=new Date),ve.apply(void 0,t))}function Ne(e,t,r){e.loadNamespaces(t,(function(){if(e.isInitialized)r();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),r()}))}}))}function xe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return we("i18n.languages were undefined or empty",t.languages),!0;var n=t.languages[0],o=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===n.toLowerCase())return!0;var i=function(e,r){var n=t.services.backendConnector.state["".concat(e,"|").concat(r)];return-1===n||2===n};return!(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(n,e)||(!t.services.backendConnector.backend||!(!i(n,e)||o&&!i(a,e))))}function Oe(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}var Pe=function(e){if(Array.isArray(e))return e};var Se=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}};var Ce=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n};var _e=function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ce(e,t):void 0}};var je=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var ke=function(e,t){return Pe(e)||Se(e,t)||_e(e,t)||je()};function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(r,!0).forEach((function(t){ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Re(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.i18n,i=(t(fe),{}),s=i.i18n,l=i.defaultNS,c=a||s||be();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new ye),!c){we("You will need pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},p=[u,{},!1];return p.t=u,p.i18n={},p.ready=!1,p}var d=Te({},he(),{},c.options.react,{},o),m=d.useSuspense,f=e||l||c.options&&c.options.defaultNS;f="string"==typeof f?[f]:f||["translation"],c.reportNamespaces.addUsedNamespaces&&c.reportNamespaces.addUsedNamespaces(f);var h=(c.isInitialized||c.initializedStoreOnce)&&f.every((function(e){return xe(e,c,d)}));function y(){return{t:c.getFixedT(null,"fallback"===d.nsMode?f:f[0])}}var b=r(y()),g=ke(b,2),v=g[0],E=g[1];n((function(){var e=!0,t=d.bindI18n,r=d.bindI18nStore;function n(){e&&E(y())}return h||m||Ne(c,f,(function(){e&&E(y())})),t&&c&&c.on(t,n),r&&c&&c.store.on(r,n),function(){e=!1,t&&c&&t.split(" ").forEach((function(e){return c.off(e,n)})),r&&c&&r.split(" ").forEach((function(e){return c.store.off(e,n)}))}}),[f.join()]);var w=[v.t,c,h];if(w.t=v.t,w.i18n=c,w.ready=h,h)return w;if(!h&&!m)return w;throw new Promise((function(e){Ne(c,f,(function(){E(y()),e()}))}))}function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(r,!0).forEach((function(t){ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ie={en_US:{common:{buttons:{account:"My account",login:"Login"},"password-forgot":{title:"Forgot your password?",subtitle:"Enter your email below to reset your password",email:"Email",password:"Password",submit:"Submit",required:"Required",passwordResetEmailSent:"Password reset instructions have been sent to your email",messages:{alreadyHaveAccount:"Already have an account?",loginHere:"login here."}},"password-reset":{title:"Reset your password",subtitle:"Enter a new password below",email:"Email",password:"Password",confirmPassword:"Confirm password",submit:"Submit",required:"Required",passwordUpdated:"Password has been updated, please login with the new password"},payment:{labels:{cardNumber:"Card number",securityCode:"Security Code",submit:"Submit",months:{jan:"January",feb:"February",mar:"March",apr:"April",may:"May",jun:"June",jul:"July",aug:"August",sep:"September",oct:"October",nov:"November",dec:"December"},checkout:{title:"Payment Information"}},errors:{"":""}},dashboard:{labels:{menu:"Pelcro Menu",name:"Name",email:"Email",plan:"Plan",description:"Description",expiry:"Expiry",status:"Status",logout:"Logout",dashboard:"Dashboard",unsubscribe:"Unsubscribe",reactivate:"Reactivate",renew:"Renew",support:"Support",account:"Account",subscriptions:"Subscriptions",updatePaymentSource:"Update",updateProfile:"Update",updateAddress:"Update",redeemGift:"Redeem gift",address:"Address",paymentSource:"Payment card",actions:"Actions",expiresOn:"Expires on",renewsOn:"Renews on",isSureToCancel:"Are you sure you want to cancel your subscription?"},messages:{yourDashboard:"Your Pelcro Dashboard"},errors:{"":""}},select:{messages:{alreadyHaveAccount:"Already have an account?",loginHere:"Login here",checkbox:"Check this box to gift this subscription"},labels:{plan:{title:"Subscribe to a plan",subtitle:"Select one of the plans below and click on next."},product:{title:"Subscribe to a product",subtitle:"Select one of the products below and click on next."},selectProduct:"Select a product",selectPlan:"Select a plan",startingAt:"Starting at"},buttons:{next:"Next",select:"Select",back:"Back"}},cart:{title:"Your shopping cart",subtitle:"Comple your purchase below",name:"Name",quantity:"Quantity",price:"Price",actions:"Actions",remove:"Remove",total:"Total",confirm:"Checkout",empty:"Your cart is empty.",removeAll:"Remove all"},products:{buttons:{select:"Select",added:"Added to cart"}},confirm:{buttons:{continue:"Continue to content"},labels:{title:"Thanks for your order!",subtitle:"Your items will be on their way shortly."}}},paymentCreate:{title:"Update your payment information",subtitle:"Enter the fields below to update your credit card information",required:"Required",success:"Your payment information has been updated",secure:"You're safe - PCI compliant 128 SSL by"},newsletter:{labels:{submit:"Submit",firstName:"First name",lastName:"Last name",email:"Email",postalCode:"Postal code",required:"required"},messages:{alreadyHaveAccount:"Already have an account?",loginHere:"Login here.",createAnAccount:" Create an account by clicking ",here:"here"},errors:{"":""}},success:{labels:{continue:"Continue to content"},messages:{yourFreeTrial:"Subscription successful!",youHaveAccess:"Hope you enjoy the subscription. Please contact us if you have any questions or concerns.",clickToLearn:{click:"Click",here:"here",toLearn:"to learn more or contact us at",forQuestion:"for any questions."}},errors:{"":""}},meter:{messages:{freeVisits:"Free visits left:",subscribeNow:"Subscribe now!",alreadyHaveAccount:"Already have an account?",loginHere:"Login here"},errors:{"":""}},checkoutForm:{labels:{card:"Enter card number",date:"Expiration date",CVC:"CVC",required:"required",submit:"Submit",addCode:"Add coupon code",hideCode:"Hide",codePlaceholder:"Enter your coupon code",applyCouponCode:"Apply coupon",code:"Coupon code"}},messages:{youAreSafe:"You're safe - PCI compliant 128 SSL by",haveQuestion:"Have questions?",visitOurWebsite:{visitTo:"Visit our website to",learnMore:"learn more"},visitOurFaq:{visitOur:"Visit our",faq:"FAQ"},cancel:"Cancel your subscription online at anytime.",logout:{logout:"Logout",here:"here"},giftSent:"Subscription gift has been sent to",successfully:"successfully"},login:{labels:{email:"Enter email",password:"Enter password",required:"required",emailPlaceholder:"Email",passwordPlaceholder:"Password",login:"Login"},messages:{loginTo:"Login to your account",welcome:"Welcome back, sign in with your existing account.",dontHaveAccount:"Dont have an account yet?",createAccount:"Create account.",forgotPassword:"Forgot your password?",reset:{click:"Click",here:"here",toReset:"to reset it."}},errors:{"":""}},register:{title:"Create an account",subtitle:"Enter your email and password below",labels:{signUpFacebook:"Sign up with Facebook",signUpGoogle:"Sign up with Google",signUpEmail:"Sign up with Email",password:"Create password",email:"Enter email",passwordPlaceholder:"Create password",emailPlaceholder:"Enter email",required:"required"},messages:{alreadyHaveAccount:"Already have an account?",createAccount:"Create account",loginHere:"login here. ",selectPlan:"Select a different plan ",here:"here",iAgree:{iAgree:"I agree to the",terms:"Terms of Service",and:"and",privacy:"Privacy Policy."},preferDisable:{click:"Click",here:"here",ifPrefer:"if you prefer to disable your Ad blocker."}},errors:{"":""},gift:{titles:{firstTitle:"Gift this subscription",secondTitle:"Enter the recipients information below"},labels:{firstName:"First name",lastName:"Last name",email:"Enter email",required:"required",firstNamePlaceholder:"First name",lastNamePlaceholder:"Last name",emailPlaceholder:"Email Address"},buttons:{gift:"gift"},messages:{enterEmail:"Please enter the gift recepients email."}},redeem:{titles:{firstTitle:"Redeem your gift",secondTitle:"Enter the gift code below"},labels:{code:"Enter gift code",codePlaceholder:"Gift code",required:"required"},buttons:{redeem:"Redeem gift"},footer:{click:"Click",here:"here",toAdd:"to add an address"}}},userEdit:{labels:{title:"Want to update your profile?",subtitle:"Enter your information below to update your profile",email:"Email",firstName:"First name",lastName:"Last name",phone:"Phone",submit:"Submit",required:"Required"},messages:{userUpdated:"Thanks! Your profile was updated successfully."}},address:{title:"Please enter your address",labels:{address:"Address",code:"Postal Code/Zip",city:"City",region:"Two letter Province/State",country:"Country",firstName:"First name",lastName:"Last name",required:"required"},buttons:{submit:"submit"},messages:{addressUpdated:"The address was successfully updated!"}}},fr_CA:{common:{buttons:{account:"Accs abonn(e)s",login:"Se connecter"},"password-forgot":{title:"Mot de passe oubli ?",subtitle:"Entrez votre email ci-dessous pour rinitialiser votre mot de passe",email:"Courriel",password:"Mot de passe",submit:"Soumettre",required:"Champs obligatoires",passwordResetEmailSent:"Des instructions de rinitialisation du mot de passe ont t envoyes  votre adresse email",messages:{alreadyHaveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici"}},"password-reset":{title:"Rinitialiser votre mot de passe",subtitle:"Entrez un nouveau mot de passe ci-dessous",email:"Courriel",password:"mot de passe",confirmPassword:"Confirmer le mot de passe",submit:"Soumettre",required:"Champs obligatoires",passwordUpdated:"Le mot de passe a t mis  jour, veuillez vous connecter avec le nouveau mot de passe"},payment:{labels:{cardNumber:"Numro de carte",securityCode:"Code de scurit",submit:"Soumettre",months:{jan:"Janvier",feb:"Fvrier",mar:"Mars",apr:"Avril",may:"Mai",jun:"Juin",jul:"Juillet",aug:"Aot",sep:"Septembre",oct:"Octobre",nov:"Novembre",dec:"Dcembre"},checkout:{title:"Informations de paiement"}},messages:{youAreSafe:"Vous tes en scurit - PCI conforme 128 SSL par",haveQuestion:"Des questions?",visitOurWebsite:{visitTo:"Visitez notre site Web pour",learnMore:"en savoir plus"},visitOurFaq:{visitOur:"Visitez notre",faq:"FAQ"},cancel:"Annuler votre abonnement en ligne  tout moment.",logout:{logout:"Dconnexion",here:"ici"},giftSent:"Le cadeau d'abonnement a t envoy ",successfully:"avec succs."},errors:{"":""}},dashboard:{labels:{menu:"Menu Pelcro",name:"Nom",email:"Courriel",plan:"Plan",description:"Description",expiry:"Expiration",status:"Statut",logout:"Dconnexion",dashboard:"Tableau de bord",unsubscribe:"Se dsabonner",reactivate:"Ractiver",renew:"Renouveler",support:"Soutien",account:"Compte",subscriptions:"Abonnements",updatePaymentSource:"Mettre  jour la source de paiement",updateProfile:"Mettre  jour le profil",updateAddress:"Modifier",redeemGift:"changer un cadeau",address:"Adresse",paymentSource:"Source de paiement",actions:"Actes",expiresOn:"Expire le",renewsOn:"Renouvelle le",isSureToCancel:"tes-vous certain de vouloir annuler votre abonnement ?"},messages:{yourDashboard:"Votre tableau de bord Pelcro"},errors:{"":""}},select:{messages:{alreadyHaveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici",checkbox:"Cochez cette case pour offrir cet abonnement"},labels:{plan:{title:"Abonnez-vous  un plan",subtitle:"Slectionnez l'un des plans ci-dessous et cliquez sur suivant."},product:{title:"Abonnez-vous  un produit",subtitle:"Slectionnez l'un des produits ci-dessous et cliquez sur suivant."},selectProduct:"Slectionnez un produit",selectPlan:"Slectionnez un plan",starningAt:" partir de"},buttons:{next:"Prochain",select:"Choisir",back:"Retour"}},cart:{title:"Votre Panier",subtitle:"Terminez votre achat ci-dessous",name:"Produit",quantity:"Quantit",price:"Prix",actions:"Actes",remove:"Retirer",total:"Total",confirm:"Check-out",empty:"Votre panier est vide.",removeAll:"Enlever tout"},products:{buttons:{select:"Choisir",added:"Ajout au panier"}},confirm:{buttons:{continue:"Continuer au contenu"},labels:{title:"Merci pour votre commande!",subtitle:"Vos articles seront bientt en route."}}},paymentCreate:{title:"Mettre  jour vos informations de paiement",subtitle:"Entrez les champs ci-dessous pour mettre  jour les informations de votre carte de crdit",required:"Champs obligatoires",success:"Vos informations de paiement ont t mises  jour",secure:"Vous tes en scurit - 128 SSL conforme  la norme PCI"},newsletter:{labels:{submit:"Lire l'article !",firstName:"Prnom",lastName:"Nom de famille",email:"Courrier lectronique",postalCode:"Code postal",required:"Champs obligatoires"},messages:{alreadyHaveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici",createAnAccount:" Crez un compte en cliquant ",here:"ici"},errors:{"":""}},success:{labels:{continue:"Abonnement russi !"},messages:{yourFreeTrial:"Votre essai gratuit vient de commencer",youHaveAccess:"J'espre que vous apprciez l'abonnement. Veuillez nous contacter si vous avez des questions ou des proccupations.",clickToLearn:{click:"cliquez",here:"ici",toLearn:"pour en savoir plus ou contactez-nous ",forQuestion:"pour toute question."}},errors:{"":""}},meter:{messages:{freeVisits:"Visites gratuites restantes:",subscribeNow:"Abonnez-vous maintenant !",alreadyHaveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici"},errors:{"":""}},checkoutForm:{labels:{card:"Entrez le numro de carte",date:"Date d'expiration",CVC:"CVC",required:"Champs obligatoires",submit:"Soumettre",addCode:"Ajouter un code promo",hideCode:"Cacher",codePlaceholder:"Entrez votre code de coupon",applyCouponCode:"Appliquer code de coupon",code:"Code promo"}},messages:{alreadyHaveAccount:"Vous avez dj un compte ?",createAccount:"Crer un compte",loginHere:"Connectez-vous ici",selectPlan:"Slectionnez un autre plan ",here:"ici",iAgree:{iAgree:"J'accepte",terms:"les conditions d'utilisation",and:"et",privacy:"la politique de confidentialit."},preferDisable:{click:"Cliquez",here:"ici",ifPrefer:"si vous prfrez dsactiver votre bloqueur de publicits."}},login:{labels:{email:"Entrer email",password:"Entrer le mot de passe",required:"Champs obligatoires",emailPlaceholder:"Adresse courriel",passwordPlaceholder:"Mot de passe",login:"Connexion"},messages:{loginTo:"Connectez-vous  votre compte",welcome:"Bienvenue, connectez-vous avec votre compte existant.",dontHaveAccount:"Vous n'avez pas encore de compte ?",createAccount:"Crer un compte",forgotPassword:"Mot de passe oubli ?",reset:{click:"Cliquez",here:"ici",toReset:"pour le rinitialiser."}},errors:{"":""}},register:{title:"Crer un compte",subtitle:"Entrez votre courriel et votre mot de passe ci-dessous",labels:{signUpFacebook:"Inscrivez-vous avec Facebook",signUpGoogle:"Inscrivez-vous avec Google",signUpEmail:"S'enregistrer avec courrier lectronique",password:"Crer un mot de passe",email:"Courriel",passwordPlaceholder:"Crer un mot de passe",emailPlaceholder:"Courriel",required:"Champs obligatoires"},errors:{"":""},gift:{titles:{firstTitle:"Offrir cet abonnement",secondTitle:"Entrez les informations du destinataire ci-dessous"},labels:{firstName:"Prnom",lastName:"Nom de famille",email:"Adresse courriel",required:"Champs obligatoires",firstNamePlaceholder:"Prnom",lastNamePlaceholder:"Nom de famille",emailPlaceholder:"Adresse courriel"},buttons:{gift:"cadeau"},messages:{enterEmail:"Veuillez entrer l'adresse courriel du destinataire du cadeau."}},redeem:{titles:{firstTitle:"changez votre cadeau",secondTitle:"Entrez le code cadeau ci-dessous"},labels:{code:"Entrez le code du cadeau",codePlaceholder:"Code cadeau",required:"Champs obligatoires"},buttons:{redeem:"changer un cadeau"},footer:{click:"Cliquez",here:"ici",toAdd:"pour ajouter une adresse"}}},userEdit:{labels:{title:"Voulez-vous mettre  jour votre profil?",subtitle:"Entrez vos informations ci-dessous pour mettre  jour votre profil",email:"Email",firstName:"Prnom",lastName:"Nom de famille",phone:"Numro de tlphone",submit:"Soumettre",required:"Champs obligatoires"},messages:{userUpdated:"Merci! Votre profil a t mis  jour avec succs."}},address:{title:"Veuillez entrer votre adresse",labels:{address:"Adresse",code:"Code postal / Zip",city:"Ville",region:"Province / Rgion",country:"Pays",firstName:"Prnom",lastName:"Nom de famille",required:"Champs obligatoires"},buttons:{submit:"Valider"},messages:{addressUpdated:"L'adresse a t mise  jour avec succs!"}}}},Fe=window.Pelcro.site.read().default_locale;function Ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Fe||(Fe="en_US"),ee.use(ge).init({resources:Ie,lng:Fe,interpolation:{escapeValue:!1}});var Ue=ie((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.executeSideEffects=o,r.mergeState=a,r.default=function(t,r,i){const s=(0,e.useCallback)(function(e){return function(t,r){if(r===n)return t;return a(t,e(t.state,r),!0)}}(t),[t]),[{state:l,sideEffects:c},u]=(0,e.useReducer)(s,{state:r,sideEffects:[]},e=>{let t;return"function"==typeof i&&(t=i(e)),void 0!==t?a(e,t,!1):e});let p=(0,e.useRef)([]);return(0,e.useEffect)(()=>{if(c.length){!async function(){const e=await async function(){return await o({sideEffects:c,state:l,dispatch:u})}();p.current=e}(),p.current.length&&p.current.forEach(e=>{e(l),p.current=[]})}},[c]),[l,u]},r.composeReducers=function(e){return(t,r)=>{let o=e.length,a=[],i=0;const s=e.reduceRight((e,t,s)=>{let l;l=s===o-1?e:e.state;const c=t(l,r);let u;return c===n?(i++,u={state:l}):u=c,c&&Array.isArray(c.sideEffects)&&(a=a.concat(c.sideEffects)),u},t);return i===o?n:{state:s&&s.state,sideEffects:a}}},r.SideEffect=r.UpdateWithSideEffect=r.NoUpdate=r.Update=r.NO_UPDATE_SYMBOL=void 0;const n=Symbol("NO_UPDATE_SYMBOL");r.NO_UPDATE_SYMBOL=n;r.Update=e=>({state:e});r.NoUpdate=()=>n;r.UpdateWithSideEffect=(e,t)=>({state:e,sideEffects:t});async function o({sideEffects:e,state:t,dispatch:r}){let n=[];if(e)for(;e.length;){const o=e.shift()(t,r);o&&"function"==typeof o&&n.push(o)}return Promise.resolve(n)}function a(e,t,r){const n=r?e.sideEffects:[],o=t.sideEffects?[...n,...Array.isArray(t.sideEffects)?t.sideEffects:[t.sideEffects]]:e.sideEffects,a="function"==typeof t.hasOwnProperty&&t.hasOwnProperty("state");let i;return i=r?a?t.state:e.state:t.state,{state:i,sideEffects:o}}r.SideEffect=e=>({sideEffects:e})})),Me=ae(Ue),ze=(Ue.executeSideEffects,Ue.mergeState,Ue.composeReducers,Ue.SideEffect,Ue.UpdateWithSideEffect),Be=(Ue.NoUpdate,Ue.Update),He=(Ue.NO_UPDATE_SYMBOL,"DISABLE_SUBMIT");var We=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o};var Ge=function(e,t){return We(t,(function(t){return e[t]}))};var Ye=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Ke="object"==typeof oe&&oe&&oe.Object===Object&&oe,$e="object"==typeof self&&self&&self.Object===Object&&self,Je=Ke||$e||Function("return this")(),Qe=Je.Symbol,Ze=Object.prototype,Xe=Ze.hasOwnProperty,et=Ze.toString,tt=Qe?Qe.toStringTag:void 0;var rt=function(e){var t=Xe.call(e,tt),r=e[tt];try{e[tt]=void 0;var n=!0}catch(e){}var o=et.call(e);return n&&(t?e[tt]=r:delete e[tt]),o},nt=Object.prototype.toString;var ot=function(e){return nt.call(e)},at=Qe?Qe.toStringTag:void 0;var it=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":at&&at in Object(e)?rt(e):ot(e)};var st=function(e){return null!=e&&"object"==typeof e};var lt=function(e){return st(e)&&"[object Arguments]"==it(e)},ct=Object.prototype,ut=ct.hasOwnProperty,pt=ct.propertyIsEnumerable,dt=lt(function(){return arguments}())?lt:function(e){return st(e)&&ut.call(e,"callee")&&!pt.call(e,"callee")},mt=Array.isArray;var ft=function(){return!1},ht=ie((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r?Je.Buffer:void 0,a=(o?o.isBuffer:void 0)||ft;e.exports=a})),yt=/^(?:0|[1-9]\d*)$/;var bt=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&yt.test(e))&&e>-1&&e%1==0&&e<t};var gt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},vt={};vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt["[object Arguments]"]=vt["[object Array]"]=vt["[object ArrayBuffer]"]=vt["[object Boolean]"]=vt["[object DataView]"]=vt["[object Date]"]=vt["[object Error]"]=vt["[object Function]"]=vt["[object Map]"]=vt["[object Number]"]=vt["[object Object]"]=vt["[object RegExp]"]=vt["[object Set]"]=vt["[object String]"]=vt["[object WeakMap]"]=!1;var Et=function(e){return st(e)&&gt(e.length)&&!!vt[it(e)]};var wt=function(e){return function(t){return e(t)}},Nt=ie((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r&&Ke.process,a=function(){try{var e=n&&n.require&&n.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a})),xt=Nt&&Nt.isTypedArray,Ot=xt?wt(xt):Et,Pt=Object.prototype.hasOwnProperty;var St=function(e,t){var r=mt(e),n=!r&&dt(e),o=!r&&!n&&ht(e),a=!r&&!n&&!o&&Ot(e),i=r||n||o||a,s=i?Ye(e.length,String):[],l=s.length;for(var c in e)!t&&!Pt.call(e,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bt(c,l))||s.push(c);return s},Ct=Object.prototype;var _t=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ct)};var jt=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),kt=Object.prototype.hasOwnProperty;var At=function(e){if(!_t(e))return jt(e);var t=[];for(var r in Object(e))kt.call(e,r)&&"constructor"!=r&&t.push(r);return t};var Tt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Rt=function(e){if(!Tt(e))return!1;var t=it(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var Lt=function(e){return null!=e&&gt(e.length)&&!Rt(e)};var Dt=function(e){return Lt(e)?St(e):At(e)};var It=function(e){return null==e?[]:Ge(e,Dt(e))};var Ft=function(e){return"symbol"==typeof e||st(e)&&"[object Symbol]"==it(e)},Vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qt=/^\w*$/;var Ut,Mt=function(e,t){if(mt(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Ft(e))||(qt.test(e)||!Vt.test(e)||null!=t&&e in Object(t))},zt=Je["__core-js_shared__"],Bt=(Ut=/[^.]+$/.exec(zt&&zt.keys&&zt.keys.IE_PROTO||""))?"Symbol(src)_1."+Ut:"";var Ht=function(e){return!!Bt&&Bt in e},Wt=Function.prototype.toString;var Gt=function(e){if(null!=e){try{return Wt.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Yt=/^\[object .+?Constructor\]$/,Kt=Function.prototype,$t=Object.prototype,Jt=Kt.toString,Qt=$t.hasOwnProperty,Zt=RegExp("^"+Jt.call(Qt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Xt=function(e){return!(!Tt(e)||Ht(e))&&(Rt(e)?Zt:Yt).test(Gt(e))};var er=function(e,t){return null==e?void 0:e[t]};var tr=function(e,t){var r=er(e,t);return Xt(r)?r:void 0},rr=tr(Object,"create");var nr=function(){this.__data__=rr?rr(null):{},this.size=0};var or=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ar=Object.prototype.hasOwnProperty;var ir=function(e){var t=this.__data__;if(rr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ar.call(t,e)?t[e]:void 0},sr=Object.prototype.hasOwnProperty;var lr=function(e){var t=this.__data__;return rr?void 0!==t[e]:sr.call(t,e)};var cr=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rr&&void 0===t?"__lodash_hash_undefined__":t,this};function ur(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ur.prototype.clear=nr,ur.prototype.delete=or,ur.prototype.get=ir,ur.prototype.has=lr,ur.prototype.set=cr;var pr=ur;var dr=function(){this.__data__=[],this.size=0};var mr=function(e,t){return e===t||e!=e&&t!=t};var fr=function(e,t){for(var r=e.length;r--;)if(mr(e[r][0],t))return r;return-1},hr=Array.prototype.splice;var yr=function(e){var t=this.__data__,r=fr(t,e);return!(r<0)&&(r==t.length-1?t.pop():hr.call(t,r,1),--this.size,!0)};var br=function(e){var t=this.__data__,r=fr(t,e);return r<0?void 0:t[r][1]};var gr=function(e){return fr(this.__data__,e)>-1};var vr=function(e,t){var r=this.__data__,n=fr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Er(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Er.prototype.clear=dr,Er.prototype.delete=yr,Er.prototype.get=br,Er.prototype.has=gr,Er.prototype.set=vr;var wr=Er,Nr=tr(Je,"Map");var xr=function(){this.size=0,this.__data__={hash:new pr,map:new(Nr||wr),string:new pr}};var Or=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Pr=function(e,t){var r=e.__data__;return Or(t)?r["string"==typeof t?"string":"hash"]:r.map};var Sr=function(e){var t=Pr(this,e).delete(e);return this.size-=t?1:0,t};var Cr=function(e){return Pr(this,e).get(e)};var _r=function(e){return Pr(this,e).has(e)};var jr=function(e,t){var r=Pr(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function kr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}kr.prototype.clear=xr,kr.prototype.delete=Sr,kr.prototype.get=Cr,kr.prototype.has=_r,kr.prototype.set=jr;var Ar=kr;function Tr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(Tr.Cache||Ar),r}Tr.Cache=Ar;var Rr=Tr;var Lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dr=/\\(\\)?/g,Ir=function(e){var t=Rr(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Lr,(function(e,r,n,o){t.push(n?o.replace(Dr,"$1"):r||e)})),t})),Fr=Qe?Qe.prototype:void 0,Vr=Fr?Fr.toString:void 0;var qr=function e(t){if("string"==typeof t)return t;if(mt(t))return We(t,e)+"";if(Ft(t))return Vr?Vr.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r};var Ur=function(e){return null==e?"":qr(e)};var Mr=function(e,t){return mt(e)?e:Mt(e,t)?[e]:Ir(Ur(e))};var zr=function(e){if("string"==typeof e||Ft(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Br=function(e,t){for(var r=0,n=(t=Mr(t,e)).length;null!=e&&r<n;)e=e[zr(t[r++])];return r&&r==n?e:void 0};var Hr=function(e,t,r){var n=null==e?void 0:Br(e,t);return void 0===n?r:n},Wr=function(e){if(Hr(e,"error.message"))return Hr(e,"error.message");if(Hr(e,"response.data.error.message"))return Hr(e,"response.data.error.message");var t=[];return It(e.response.data.errors).forEach((function(e){t.push(e[0])})),t.join("\n")},Gr=function(e){var t=document.getElementById(e);t.style.setProperty("display","none","important"),t.firstElementChild.firstElementChild.innerText=""},Yr=function(e,t){var r=document.getElementById(t);r.style.setProperty("display","","important"),r.firstElementChild.firstElementChild.innerText=e},Kr=function(e){var t=document.getElementById(e);t.style.setProperty("display","none","important"),t.firstElementChild.firstElementChild.innerText=""},$r=function(e,t){var r=document.getElementById(t);r.style.setProperty("display","","important"),r.firstElementChild.firstElementChild.innerText=e};function Jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zr={email:"",password:"",emailError:null,passwordError:null,buttonDisabled:!0},Xr=o(Zr),en=Xr.Provider,tn=function(t){var r=t.style,n=t.className,o=t.setView,a=t.onSuccess,i=void 0===a?function(){}:a,s=t.children,l=qe(Me((function(e,t){switch(t.type){case"SET_EMAIL":return Be(Qr({},e,{email:t.payload,emailError:null}));case"SET_PASSWORD":return Be(Qr({},e,{password:t.payload,passwordError:null}));case"SET_EMAIL_ERROR":return Be(Qr({},e,{emailError:t.payload,email:""}));case"SET_PASSWORD_ERROR":return Be(Qr({},e,{passwordError:t.payload,password:""}));case"RESET_LOGIN_FORM":return Zr;case"DISABLE_LOGIN_BUTTON":return Be(Qr({},e,{buttonDisabled:t.payload}));case"HANDLE_LOGIN":return ze(Qr({},e,{buttonDisabled:!0}),(function(e,t){return function(e,t){var r=e.email,n=e.password;window.Pelcro.user.login({email:r,password:n},(function(e,r){if(t({type:"DISABLE_LOGIN_BUTTON",payload:!1}),e)return Yr(Wr(e),"pelcro-error-login");o(""),i()}))}(e,t)}));default:throw new Error}}),Zr),2),c=l[0],u=l[1];return e.createElement("div",{style:Qr({},r),className:n},e.createElement(en,{value:{state:c,dispatch:u}},s.length?s.map((function(t,r){return e.cloneElement(t,{store:Xr,key:r})})):e.cloneElement(s,{store:Xr})))};function rn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function an(o){var i=o.placeholder,s=o.style,l=o.className,c=o.id,u=o.store,p=rn(o,["placeholder","style","className","id","store"]),d=t(u),m=d.dispatch,f=d.state,h=f.email,y=f.emailError,b=qe(r(h),2),g=b[0],v=b[1],E=qe(r(!1),2),w=E[0],N=E[1],x=a((function(e){v(e),O(g)?m({type:"SET_EMAIL",payload:g}):w&&(g.length?m({type:"SET_EMAIL_ERROR",payload:"Please enter a valid email."}):m({type:"SET_EMAIL_ERROR",payload:"Email address is required."}))}),[m,g,w]);n((function(){x(g)}),[w,g,x]);var O=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)};return e.createElement(e.Fragment,null,e.createElement("input",Object.assign({type:"email",id:c,style:on({},s),className:(y?"input-error ":"")+l,value:g,onChange:function(e){return x(e.target.value)},placeholder:i||"Enter Your Email",onBlur:function(){return N(!0)},onFocus:function(){return N(!1)}},p)),e.createElement("div",null,y))}function sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cn(o){var i=o.placeholder,s=o.style,l=o.className,c=o.id,u=o.store,p=rn(o,["placeholder","style","className","id","store"]),d=t(u),m=d.dispatch,f=d.state,h=f.password,y=f.passwordError,b=qe(r(h),2),g=b[0],v=b[1],E=qe(r(!1),2),w=E[0],N=E[1],x=a((function(e){v(e),g.length?m({type:"SET_PASSWORD",payload:g}):w&&m({type:"SET_PASSWORD_ERROR",payload:"Password is required."})}),[m,g,w]);return n((function(){x(g)}),[w,g,x]),e.createElement(e.Fragment,null,e.createElement("input",Object.assign({type:"password",id:c,style:ln({},s),className:(y?"input-error ":"")+l,value:g,onChange:function(e){return x(e.target.value)},placeholder:i||"Enter Your Password",onBlur:function(){return N(!0)},onFocus:function(){return N(!1)}},p)),e.createElement("div",null,y))}function un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?un(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dn(o){var i=o.placeholder,s=o.style,l=o.className,c=o.id,u=o.store,p=t(u),d=p.dispatch,m=p.state,f=m.confirmPassword,h=m.confirmPasswordError,y=qe(r(f),2),b=y[0],g=y[1],v=qe(r(!1),2),E=v[0],w=v[1];n((function(){return d({type:"CONFIRM_PASSWORD_USED",payload:!0})}),[d]);var N=a((function(e){g(e),b.length?d({type:"SET_CONFIRM_PASSWORD",payload:b}):E&&d({type:"SET_CONFIRM_PASSWORD_ERROR",payload:"Confirm password is required."})}),[d,b,E]);return n((function(){N(b)}),[E,b,N]),e.createElement(e.Fragment,null,e.createElement("input",{type:"password",id:c,style:pn({},s),className:h?"input-error ":""+l,value:b,onChange:function(e){return N(e.target.value)},placeholder:i||"Enter Your Password again",onBlur:function(){return w(!0)},onFocus:function(){return w(!1)}}),e.createElement("div",null,h))}var mn=function(t){return e.createElement("button",{name:"logout",className:"pelcro-prefix-btn pelcro-prefix-logout-btn",onClick:function(){window.Pelcro.user.logout(),t.ReactGA.event({category:"ACTIONS",action:"Logged out",nonInteraction:!0})},disabled:!1},"Logout")};function fn(t){return e.createElement("button",t,t.children)}var hn=function(o){var a=o.store,i=rn(o,["store"]),s=t(a),l=s.state,c=l.emailError,u=l.passwordError,p=l.email,d=l.password,m=s.dispatch,f=qe(r(!0),2),h=f[0],y=f[1];return n((function(){y(c||u||!p.length||!d.length)}),[c,u,p,d]),e.createElement(fn,Object.assign({},i,{onClick:function(){return m({type:"HANDLE_LOGIN"})},disabled:h}),i.name||"Login")},yn=function(t){return e.createElement(an,Object.assign({id:"pelcro-login-email",store:Xr},t))},bn=function(t){return e.createElement(cn,Object.assign({id:"pelcro-login-password",store:Xr},t))},gn=function(t){var r=t.name;return e.createElement("div",{id:"pelcro-error-"+r,className:"pelcro-prefix-error-message pelcro-prefix-alert pelcro-prefix-alert-danger",style:{display:"none"}},e.createElement("div",{className:"pelcro-prefix-error-message-text"},e.createElement("span",null,"Here is the alert text")),e.createElement("button",{name:"close",onClick:function(){Gr("pelcro-error-"+r)},className:"pelcro-prefix-alert-close pelcro-prefix-close"},e.createElement("span",null,"")))};function vn(t){var r=Re("login").t;return e.createElement("div",{className:"pelcro-prefix-modal-body"},e.createElement("div",{className:"pelcro-prefix-title-block"},e.createElement("h4",null,r("messages.loginTo")),e.createElement("p",null,r("messages.welcome"))),e.createElement(gn,{name:"login"}),e.createElement("div",{className:"pelcro-prefix-form"},e.createElement(tn,t,e.createElement("div",{className:"pelcro-prefix-form-group"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-email"},r("labels.email")," *"),e.createElement(yn,{className:"pelcro-prefix-input pelcro-prefix-form-control",id:"pelcro-input-email",required:!0,placeholder:r("labels.emailPlaceholder")})),e.createElement("div",{className:"pelcro-prefix-form-group"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-password"},r("labels.password")," *"),e.createElement(bn,{className:"pelcro-prefix-input pelcro-prefix-form-control",id:"pelcro-input-password",required:!0,placeholder:r("labels.passwordPlaceholder")})),e.createElement("small",{className:"pelcro-prefix-footnote pelcro-prefix-form-text"},"* ",r("labels.required")),e.createElement(hn,{name:r("labels.login"),id:"pelcro-login-submit",className:"pelcro-prefix-btn"}))))}function En(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?En(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):En(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nn={email:"",password:"",emailError:null,passwordError:null,confirmPassword:"",confirmPasswordError:null,confirmPasswordUsed:!1,buttonDisabled:!0},xn=o(Nn),On=xn.Provider,Pn=function(t){var r=t.style,n=t.className,o=t.setView,a=t.onSuccess,i=void 0===a?function(){}:a,s=t.children,l=qe(Me((function(e,t){switch(t.type){case"SET_EMAIL":return Be(wn({},e,{email:t.payload,emailError:null}));case"SET_PASSWORD":return Be(wn({},e,{password:t.payload,passwordError:null}));case"SET_CONFIRM_PASSWORD":return Be(wn({},e,{confirmPassword:t.payload,confirmPasswordError:null}));case"SET_EMAIL_ERROR":return Be(wn({},e,{emailError:t.payload,email:""}));case"SET_PASSWORD_ERROR":return Be(wn({},e,{passwordError:t.payload,password:""}));case"SET_CONFIRM_PASSWORD_ERROR":return Be(wn({},e,{confirmPasswordError:t.payload,confirmPassword:""}));case"CONFIRM_PASSWORD_USED":return Be(wn({},e,{confirmPasswordUsed:t.payload}));case"RESET_LOGIN_FORM":return Nn;case"DISABLE_REGISTRATION_BUTTON":return Be(wn({},e,{buttonDisabled:t.payload}));case"HANDLE_REGISTRATION":return ze(wn({},e,{buttonDisabled:!0}),(function(e,t){return function(e,t){var r=e.email,n=e.password;window.Pelcro.user.register({email:r,password:n},(function(e,r){if(t({type:"DISABLE_REGISTRATION_BUTTON",payload:!1}),e)return Yr(Wr(e),"pelcro-error-register");o(),i()}))}(e,t)}));default:throw new Error}}),Nn),2),c=l[0],u=l[1];return e.createElement("div",{style:wn({},r),className:n},e.createElement(On,{value:{state:c,dispatch:u}},s.length?s.map((function(t,r){return e.cloneElement(t,{store:xn,key:r})})):e.cloneElement(s,{store:xn})))};function Sn(t){var r=Re("register").t;return e.createElement("div",{className:"pelcro-prefix-form"},e.createElement(Pn,t,e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-12"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-email"},r("labels.email")," *"),e.createElement(Cn,{className:"pelcro-prefix-input pelcro-prefix-form-control",id:"pelcro-input-email",placeholder:r("labels.emailPlaceholder")})),e.createElement("div",{className:"col-md-12"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-password"},r("labels.password")," *"),e.createElement(_n,{className:"pelcro-prefix-input pelcro-prefix-form-control",id:"pelcro-input-password",placeholder:r("labels.passwordPlaceholder")}))),e.createElement("small",{className:"pelcro-prefix-footnote pelcro-prefix-form-text"},"* ",r("labels.required")),e.createElement(jn,{className:"pelcro-prefix-btn",id:"pelcro-registeration-submit",name:r("messages.createAccount")})))}var Cn=function(t){return e.createElement(an,Object.assign({id:"pelcro-register-email",store:xn},t))},_n=function(t){return e.createElement(cn,Object.assign({id:"pelcro-register-password",store:xn},t))},jn=function(o){var a=o.store,i=rn(o,["store"]),s=t(a),l=s.state,c=l.emailError,u=l.passwordError,p=l.email,d=l.password,m=s.dispatch,f=qe(r(!0),2),h=f[0],y=f[1];return n((function(){y(c||u||!p.length||!d.length)}),[c,u,p,d]),e.createElement(fn,Object.assign({},i,{onClick:function(){return m({type:"HANDLE_REGISTRATION"})},disabled:h}),i.name||"Register")};function kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Tn={selectedAddress:null,product:null,plan:null,isGift:!1,subscriptionIdToRenew:null},Rn=o(Tn),Ln=Rn.Provider,Dn=function(t){var r=t.children,n=qe(i((function(e,t){switch(t.type){case"SET_PRODUCT_AND_PLAN":return An({},e,{},t.payload);case"SET_SUBSCRIPTION_TO_RENEW":return An({},e,{subscriptionIdToRenew:t.payload});default:throw new Error}}),Tn),2),o=n[0],a=n[1];return e.createElement(Ln,{value:{state:o,dispatch:a}},r.length?r.map((function(t,r){return e.cloneElement(t,{store:Rn,key:r})})):e.cloneElement(r,{store:Rn}))};function In(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?In(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):In(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vn={addressId:null},qn=o(Vn),Un=qn.Provider,Mn=function(t){var r=t.style,n=t.className,o=t.setView,a=(t.onSuccess,t.children),i=qe(Me((function(e,t){switch(t.type){case"SET_ADDRESS_ID":return o("address-edit"),Be(Fn({},e,{addressId:t.payload}));default:throw new Error}}),Vn),2),s=i[0],l=i[1];return e.createElement("div",{style:Fn({},r),className:n},e.createElement(Un,{value:{state:s,dispatch:l}},a.length?a.map((function(t,r){return e.cloneElement(t,{store:qn,key:r})})):e.cloneElement(a,{store:qn})))},zn=function(r){t(qn).dispatch;var n=window.Pelcro.user.read().addresses,o=function(e){var t=e.target.dataset.key;r.getAddressId(t)};return n?e.createElement(Mn,{setView:r.setView},n.map((function(t){return e.createElement("div",{key:"dashboard-address-"+t.id},e.createElement("span",{className:"pelcro-prefix-dashboard-value"},t.line1," ",t.line2,", ",t.city,", ",t.state,","," ",t.country),e.createElement("div",{className:"pelcro-prefix-dashboard-value"},e.createElement("button",{"data-key":t.id,className:"pelcro-prefix-link",type:"button",onClick:o},"Update Address")))}))):e.createElement("div",{className:"pelcro-prefix-dashboard-value"},e.createElement("button",{className:"pelcro-prefix-link",type:"button",onClick:function(){return r.setView("address")}},"Add Address"))};function Bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Wn=function(r){var n=r.subscription,o=r.unsubscribeName,a=void 0===o?"Unsubscribe":o,i=r.reactivateName,s=void 0===i?"Reactivate":i,l=r.renewName,c=void 0===l?"Renew":l,u=r.setView,p=rn(r,["subscription","unsubscribeName","reactivateName","renewName","setView"]),d=t(Rn).dispatch;return e.createElement("div",null,0===n.cancel_at_period_end&&e.createElement(fn,{className:p.className||"",style:Hn({},p.style),onClick:function(){var e;!0===window.confirm("Are you sure you wanna cancel your subscription?")&&(e=n.id,window.Pelcro.subscription.cancel({auth_token:window.Pelcro.user.read().auth_token,subscription_id:e},(function(e,t){if(e)return console.log(e);u("")})))},disabled:!1},a),1===n.cancel_at_period_end&&e.createElement(fn,{className:p.className||"",style:Hn({},p.style),onClick:function(){var e;e=n.id,window.Pelcro.subscription.reactivate({auth_token:window.Pelcro.user.read().auth_token,subscription_id:e},(function(e,t){if(e)return console.log(e);u("")}))},disabled:!1},s),1===n.cancel_at_period_end&&e.createElement(fn,{className:p.className||"",style:Hn({},p.style),onClick:function(){var e=n.plan.product.id,t=n.plan.id,r=window.Pelcro.product.getById(e),o=window.Pelcro.plan.getById(t);d({type:"SET_PRODUCT_AND_PLAN",payload:{product:r,plan:o}}),d({type:"SET_SUBSCRIPTION_TO_RENEW",payload:n.id}),u("select")},disabled:!1},c))},Gn=function(t){var r=t.subscription,n=t.name,o=rn(t,["subscription","name"]),a=r.cancel_at_period_end?"Expires on ".concat(r.current_period_end):"Renews on ".concat(r.current_period_end);return a?e.createElement("div",Object.assign({className:"pelcro-prefix-dashboard-text row"},o),e.createElement("span",{className:"pelcro-prefix-dashboard-label col-4"},n),e.createElement("span",{className:"pelcro-prefix-dashboard-value col-8"},a)):null},Yn=function(t){var r=t.subscription,n=t.name;return r.plan.nickname?e.createElement("div",{className:"pelcro-prefix-dashboard-text row"},e.createElement("span",{className:"pelcro-prefix-dashboard-label col-4"},n),e.createElement("span",{className:"pelcro-prefix-dashboard-value col-8"},r.plan.nickname)):null},Kn=function(t){var r=t.subscription,n=t.name;return r.shipments_remaining?e.createElement("div",{className:"pelcro-prefix-dashboard-text row"},e.createElement("span",{className:"pelcro-prefix-dashboard-label col-4"},n),e.createElement("span",{className:"pelcro-prefix-dashboard-value col-8"},r.shipments_remaining)):null},$n=function(t){var r=window.Pelcro.subscription.list();return r?r.map((function(r){return e.createElement("div",{key:"dashboard-subscription-"+r.id,className:"pelcro-prefix-dashboard-subscriptions"},e.createElement("div",null,e.createElement(Yn,{name:"Plan",subscription:r})),e.createElement("div",null,e.createElement(Gn,{name:"Status",subscription:r})),e.createElement("div",null,e.createElement(Kn,{subscription:r,name:"Shipments remaining"})),e.createElement("div",null,e.createElement("div",{className:"pelcro-prefix-dashboard-text row"},e.createElement("span",{className:"pelcro-prefix-dashboard-label col-4"},"Actions"),e.createElement("div",{className:"col-8"},e.createElement(Wn,{subscription:r,unsubscribeName:"Unsubscribe",reactivateName:"Reactivate",renewName:"Renew",setView:t.setView})))))})):null},Jn=function(t){var r=window.Pelcro.site.read(),o=window.Pelcro.user.read();n((function(){window.Pelcro.insight.track("Modal Displayed",{name:"dashboard"}),t.ReactGA.event({category:"VIEWS",action:"Dashboard Modal Viewed",nonInteraction:!0})}),[t.ReactGA]);return e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{id:"pelcro-view-dashboard"},e.createElement("button",{type:"button",className:"pelcro-prefix-dashboard-close pelcro-prefix-close","aria-label":"Close",onClick:t.resetView},e.createElement("span",null,"")),e.createElement("div",{className:"pelcro-prefix-dashboard-block logo"},r.logo&&e.createElement("img",{alt:"avatar",className:"pelcro-prefix-site-logo pelcro-prefix-center",src:r.logo.url})),e.createElement("div",{className:"dashboard-content"},e.createElement("div",{className:"border-block"},e.createElement("div",{className:"subscriptions-header border-text"},e.createElement("h4",null,"Account")),e.createElement("div",{className:"pelcro-prefix-dashboard-block"},(o.first_name||o.last_name)&&e.createElement("div",{className:"pelcro-prefix-dashboard-text row"},e.createElement("span",{className:"pelcro-prefix-dashboard-label col-4"},"Name"),e.createElement("span",{className:"pelcro-prefix-dashboard-value col-8"},o.first_name," ",o.last_name)),o.email&&e.createElement("div",{className:"pelcro-prefix-dashboard-text row"},e.createElement("span",{className:"pelcro-prefix-dashboard-label col-4"},"Email"),e.createElement("div",{className:"pelcro-prefix-dashboard-value col-8"},e.createElement("span",{className:"dashboard-email"},o.email),e.createElement("div",{className:"pelcro-prefix-dashboard-link"},e.createElement("button",{className:"pelcro-prefix-link",type:"button",onClick:function(){return t.setView("user-edit")}},"Update Profile")))),e.createElement("div",{className:"pelcro-prefix-dashboard-text row"},e.createElement("span",{className:"pelcro-prefix-dashboard-label col-4"},"Addresses"),e.createElement("span",{className:"col-8"},e.createElement(zn,{setView:t.setView,getAddressId:t.getAddressId}))),o.source&&e.createElement("div",{className:"pelcro-prefix-dashboard-text row"},e.createElement("span",{className:"pelcro-prefix-dashboard-label col-4"},"Payment Method"),e.createElement("div",{className:"pelcro-prefix-dashboard-value col-8"},e.createElement("span",{className:"dashboard-email"},o.source.properties.last4," -"," ",o.source.properties.brand),e.createElement("div",{className:"pelcro-prefix-dashboard-link"},e.createElement("button",{className:"pelcro-prefix-link",type:"button",onClick:function(){return t.setView("source-create")}},"Update Payment Method")))))),e.createElement("div",{className:"border-block"},e.createElement("div",{className:"subscriptions-header border-text"},e.createElement("h4",null,"Subscriptions")),e.createElement("div",{className:"pelcro-prefix-dashboard-block"},e.createElement($n,{setView:t.setView}),e.createElement("div",{className:"pelcro-prefix-dashboard-text"},e.createElement("div",{className:"redeem-gift"},e.createElement("button",{className:"pelcro-prefix-link",type:"button",onClick:function(){return t.setView("redeem")}},"Redeem gift"))))),e.createElement(mn,{ReactGA:t.ReactGA}))))},Qn=function(t){return e.createElement("div",{className:"pelcro-prefix-header"},t.closeButton&&e.createElement("button",{name:"close",type:"button",className:"pelcro-prefix-close","aria-label":"Close",onClick:t.resetView},e.createElement("span",null,"")),e.createElement("div",{className:"pelcro-prefix-modal-header"},t.site.logo&&e.createElement("img",{alt:"avatar",className:"pelcro-prefix-site-logo",src:t.site.logo.url}),e.createElement("h3",{className:"pelcro-prefix-site-name"}," ",t.site.name)))},Zn=function(){return e.createElement("div",{className:"pelcro-prefix-authorship"},e.createElement("img",{className:"pelcro-prefix-authorship-img",alt:"pelcro",src:"https://cdn.pelcro.com/images/logo/powered-by/dark-239x56.png"}))};function Xn(t){var r=t.setView,n=t.onSuccess,o=rn(t,["setView","onSuccess"]),a=Re("login").t;return e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{className:"pelcro-prefix-modal pelcro-prefix-fade pelcro-prefix-show",id:"pelcro-view-login",tabIndex:"-1",role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"pelcro-prefix-modal-dialog pelcro-prefix-modal-dialog-centered",role:"document"},e.createElement("div",{className:"pelcro-prefix-modal-content"},e.createElement(Qn,{closeButton:window.Pelcro.paywall.displayCloseButton(),resetView:function(){return r("")},site:window.Pelcro.site.read()}),e.createElement(vn,Object.assign({setView:r,onSuccess:n},o)),e.createElement("div",{className:"pelcro-prefix-modal-footer"},e.createElement("small",null,a("messages.dontHaveAccount")+" ",e.createElement("button",{className:"pelcro-prefix-link",onClick:function(){r("select")}},a("messages.createAccount"))," "+a("messages.forgotPassword")+" "," ",a("messages.reset.click")+" ",e.createElement("button",{className:"pelcro-prefix-link",onClick:function(){r("password-forgot")}},a("messages.reset.here"))," "+a("messages.reset.toReset")),e.createElement(Zn,null))))))}function eo(t){var r=t.onSuccess,n=t.setView,o=(t.product,rn(t,["onSuccess","setView","product"])),a=Re("register").t;return e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{className:"pelcro-prefix-modal pelcro-prefix-fade pelcro-prefix-show",id:"pelcro-view-register",tabIndex:"-1",role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"pelcro-prefix-modal-dialog pelcro-prefix-modal-dialog-centered"},e.createElement("div",{className:"pelcro-prefix-modal-content",role:"document"},e.createElement(Qn,{closeButton:window.Pelcro.paywall.displayCloseButton(),resetView:function(){return n("")},site:window.Pelcro.site.read()}),e.createElement("div",{className:"pelcro-prefix-modal-body"},e.createElement("div",{className:"pelcro-prefix-title-block"},e.createElement("h4",null,a("title")),e.createElement("p",null,a("subtitle"))),e.createElement(gn,{name:"register"}),e.createElement(Sn,Object.assign({setView:n,onSuccess:r},o)),e.createElement("div",{className:"pelcro-prefix-modal-footer"},e.createElement("small",null,a("messages.alreadyHaveAccount")+" ",e.createElement("button",{className:"pelcro-prefix-link",onClick:function(){n("login")}},a("messages.loginHere"))," "+a("messages.selectPlan"),e.createElement("button",{className:"pelcro-prefix-link",onClick:function(){n("select")}},a("messages.here"))),e.createElement(Zn,null)))))))}function to(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ro(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function no(e,t,r){return t&&ro(e.prototype,t),r&&ro(e,r),e}function oo(e){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(e){return(ao="function"==typeof Symbol&&"symbol"===oo(Symbol.iterator)?function(e){return oo(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":oo(e)})(e)}function io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function so(e,t){return!t||"object"!==ao(t)&&"function"!=typeof t?io(e):t}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function co(e,t){return(co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&co(e,t)}var po={en_US:{buttons:{account:"My account",login:"Login"},"password-forgot":{title:"Forgot your password?",subtitle:"Enter your email below to reset your password",email:"Email",password:"Password",submit:"Submit",required:"Required",passwordResetEmailSent:"Password reset instructions have been sent to your email",messages:{alreadyHaveAccount:"Already have an account?",loginHere:"login here."}},"password-reset":{title:"Reset your password",subtitle:"Enter a new password below",email:"Email",password:"Password",confirmPassword:"Confirm password",submit:"Submit",required:"Required",passwordUpdated:"Password has been updated, please login with the new password"},"payment-create":{title:"Update your payment information",subtitle:"Enter the fields below to update your credit card information",required:"Required",success:"Your payment information has been updated",secure:"You're safe - PCI compliant 128 SSL by"},register:{title:"Create an account",subtitle:"Enter your email and password below",labels:{signUpFacebook:"Sign up with Facebook",signUpGoogle:"Sign up with Google",signUpEmail:"Sign up with Email",password:"Create password",email:"Enter email",passwordPlaceholder:"Create password",emailPlaceholder:"Enter email",required:"required"},messages:{alreadyHaveAccount:"Already have an account?",createAccount:"Create account",loginHere:"login here. ",selectPlan:"Select a different plan ",here:"here",iAgree:{iAgree:"I agree to the",terms:"Terms of Service",and:"and",privacy:"Privacy Policy."},preferDisable:{click:"Click",here:"here",ifPrefer:"if you prefer to disable your Ad blocker."}},errors:{"":""},gift:{titles:{firstTitle:"Gift this subscription",secondTitle:"Enter the recipients information below"},labels:{firstName:"First name",lastName:"Last name",email:"Enter email",required:"required",firstNamePlaceholder:"First name",lastNamePlaceholder:"Last name",emailPlaceholder:"Email Address"},buttons:{gift:"gift"},messages:{enterEmail:"Please enter the gift recepients email."}},redeem:{titles:{firstTitle:"Redeem your gift",secondTitle:"Enter the gift code below"},labels:{code:"Enter gift code",codePlaceholder:"Gift code",required:"required"},buttons:{redeem:"Redeem gift"},footer:{click:"Click",here:"here",toAdd:"to add an address"}}},login:{labels:{email:"Enter email",password:"Enter password",required:"required",emailPlaceholder:"Email",passwordPlaceholder:"Password",login:"Login"},messages:{loginTo:"Login to your account",welcome:"Welcome back, sign in with your existing account.",dontHaveAccount:"Dont have an account yet?",createAccount:"Create account.",forgotPassword:"Forgot your password?",reset:{click:"Click",here:"here",toReset:"to reset it."}},errors:{"":""}},meter:{messages:{freeVisits:"Free visits left:",subscribeNow:"Subscribe now!",alreadyHaveAccount:"Already have an account?",loginHere:"Login here"},errors:{"":""}},payment:{labels:{cardNumber:"Card number",securityCode:"Security Code",submit:"Submit",months:{jan:"January",feb:"February",mar:"March",apr:"April",may:"May",jun:"June",jul:"July",aug:"August",sep:"September",oct:"October",nov:"November",dec:"December"},checkout:{title:"Payment Information"}},messages:{youAreSafe:"You're safe - PCI compliant 128 SSL by",haveQuestion:"Have questions?",visitOurWebsite:{visitTo:"Visit our website to",learnMore:"learn more"},visitOurFaq:{visitOur:"Visit our",faq:"FAQ"},cancel:"Cancel your subscription online at anytime.",logout:{logout:"Logout",here:"here"},giftSent:"Subscription gift has been sent to",successfully:"successfully"},errors:{"":""}},address:{title:"Please enter your address",labels:{address:"Address",code:"Postal Code/Zip",city:"City",region:"Two letter Province/State",country:"Country",firstName:"First name",lastName:"Last name",required:"required"},buttons:{submit:"submit"},messages:{addressUpdated:"The address was successfully updated!"}},dashboard:{labels:{menu:"Pelcro Menu",name:"Name",email:"Email",plan:"Plan",description:"Description",expiry:"Expiry",status:"Status",logout:"Logout",dashboard:"Dashboard",unsubscribe:"Unsubscribe",reactivate:"Reactivate",renew:"Renew",support:"Support",account:"Account",subscriptions:"Subscriptions",updatePaymentSource:"Update",updateProfile:"Update",updateAddress:"Update",redeemGift:"Redeem gift",address:"Address",paymentSource:"Payment card",actions:"Actions",expiresOn:"Expires on",renewsOn:"Renews on",isSureToCancel:"Are you sure you want to cancel your subscription?"},messages:{yourDashboard:"Your Pelcro Dashboard"},errors:{"":""}},success:{labels:{continue:"Continue to content"},messages:{yourFreeTrial:"Subscription successful!",youHaveAccess:"Hope you enjoy the subscription. Please contact us if you have any questions or concerns.",clickToLearn:{click:"Click",here:"here",toLearn:"to learn more or contact us at",forQuestion:"for any questions."}},errors:{"":""}},newsletter:{labels:{submit:"Submit",firstName:"First name",lastName:"Last name",email:"Email",postalCode:"Postal code",required:"required"},messages:{alreadyHaveAccount:"Already have an account?",loginHere:"Login here.",createAnAccount:" Create an account by clicking ",here:"here"},errors:{"":""}},select:{messages:{alreadyHaveAccount:"Already have an account?",loginHere:"Login here",checkbox:"Check this box to gift this subscription"},labels:{plan:{title:"Subscribe to a plan",subtitle:"Select one of the plans below and click on next."},product:{title:"Subscribe to a product",subtitle:"Select one of the products below and click on next."},selectProduct:"Select a product",selectPlan:"Select a plan",startingAt:"Starting at"},buttons:{next:"Next",select:"Select",back:"Back"}},checkoutForm:{labels:{card:"Enter card number",date:"Expiration date",CVC:"CVC",required:"required",submit:"Submit",addCode:"Add coupon code",hideCode:"Hide",codePlaceholder:"Enter your coupon code",applyCouponCode:"Apply coupon",code:"Coupon code"}},userEdit:{labels:{title:"Want to update your profile?",subtitle:"Enter your information below to update your profile",email:"Email",firstName:"First name",lastName:"Last name",phone:"Phone",submit:"Submit",required:"Required"},messages:{userUpdated:"Thanks! Your profile was updated successfully."}},cart:{title:"Your shopping cart",subtitle:"Comple your purchase below",name:"Name",quantity:"Quantity",price:"Price",actions:"Actions",remove:"Remove",total:"Total",confirm:"Checkout",empty:"Your cart is empty.",removeAll:"Remove all"},products:{buttons:{select:"Select",added:"Added to cart"}},confirm:{buttons:{continue:"Continue to content"},labels:{title:"Thanks for your order!",subtitle:"Your items will be on their way shortly."}}},fr_CA:{buttons:{account:"Accs abonn(e)s",login:"Se connecter"},"password-forgot":{title:"Mot de passe oubli ?",subtitle:"Entrez votre email ci-dessous pour rinitialiser votre mot de passe",email:"Courriel",password:"Mot de passe",submit:"Soumettre",required:"Champs obligatoires",passwordResetEmailSent:"Des instructions de rinitialisation du mot de passe ont t envoyes  votre adresse email",messages:{alreadyHaveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici"}},"password-reset":{title:"Rinitialiser votre mot de passe",subtitle:"Entrez un nouveau mot de passe ci-dessous",email:"Courriel",password:"mot de passe",confirmPassword:"Confirmer le mot de passe",submit:"Soumettre",required:"Champs obligatoires",passwordUpdated:"Le mot de passe a t mis  jour, veuillez vous connecter avec le nouveau mot de passe"},"payment-create":{title:"Mettre  jour vos informations de paiement",subtitle:"Entrez les champs ci-dessous pour mettre  jour les informations de votre carte de crdit",required:"Champs obligatoires",success:"Vos informations de paiement ont t mises  jour",secure:"Vous tes en scurit - 128 SSL conforme  la norme PCI"},register:{title:"Crer un compte",subtitle:"Entrez votre courriel et votre mot de passe ci-dessous",labels:{signUpFacebook:"Inscrivez-vous avec Facebook",signUpGoogle:"Inscrivez-vous avec Google",signUpEmail:"S'enregistrer avec courrier lectronique",password:"Crer un mot de passe",email:"Courriel",passwordPlaceholder:"Crer un mot de passe",emailPlaceholder:"Courriel",required:"Champs obligatoires"},messages:{alreadyHaveAccount:"Vous avez dj un compte ?",createAccount:"Crer un compte",loginHere:"Connectez-vous ici",selectPlan:"Slectionnez un autre plan ",here:"ici",iAgree:{iAgree:"J'accepte",terms:"les conditions d'utilisation",and:"et",privacy:"la politique de confidentialit."},preferDisable:{click:"Cliquez",here:"ici",ifPrefer:"si vous prfrez dsactiver votre bloqueur de publicits."}},errors:{"":""},gift:{titles:{firstTitle:"Offrir cet abonnement",secondTitle:"Entrez les informations du destinataire ci-dessous"},labels:{firstName:"Prnom",lastName:"Nom de famille",email:"Adresse courriel",required:"Champs obligatoires",firstNamePlaceholder:"Prnom",lastNamePlaceholder:"Nom de famille",emailPlaceholder:"Adresse courriel"},buttons:{gift:"cadeau"},messages:{enterEmail:"Veuillez entrer l'adresse courriel du destinataire du cadeau."}},redeem:{titles:{firstTitle:"changez votre cadeau",secondTitle:"Entrez le code cadeau ci-dessous"},labels:{code:"Entrez le code du cadeau",codePlaceholder:"Code cadeau",required:"Champs obligatoires"},buttons:{redeem:"changer un cadeau"},footer:{click:"Cliquez",here:"ici",toAdd:"pour ajouter une adresse"}}},login:{labels:{email:"Entrer email",password:"Entrer le mot de passe",required:"Champs obligatoires",emailPlaceholder:"Adresse courriel",passwordPlaceholder:"Mot de passe",login:"Connexion"},messages:{loginTo:"Connectez-vous  votre compte",welcome:"Bienvenue, connectez-vous avec votre compte existant.",dontHaveAccount:"Vous n'avez pas encore de compte ?",createAccount:"Crer un compte",forgotPassword:"Mot de passe oubli ?",reset:{click:"Cliquez",here:"ici",toReset:"pour le rinitialiser."}},errors:{"":""}},meter:{messages:{freeVisits:"Visites gratuites restantes:",subscribeNow:"Abonnez-vous maintenant !",alreadyHaveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici"},errors:{"":""}},payment:{labels:{cardNumber:"Numro de carte",securityCode:"Code de scurit",submit:"Soumettre",months:{jan:"Janvier",feb:"Fvrier",mar:"Mars",apr:"Avril",may:"Mai",jun:"Juin",jul:"Juillet",aug:"Aot",sep:"Septembre",oct:"Octobre",nov:"Novembre",dec:"Dcembre"},checkout:{title:"Informations de paiement"}},messages:{youAreSafe:"Vous tes en scurit - PCI conforme 128 SSL par",haveQuestion:"Des questions?",visitOurWebsite:{visitTo:"Visitez notre site Web pour",learnMore:"en savoir plus"},visitOurFaq:{visitOur:"Visitez notre",faq:"FAQ"},cancel:"Annuler votre abonnement en ligne  tout moment.",logout:{logout:"Dconnexion",here:"ici"},giftSent:"Le cadeau d'abonnement a t envoy ",successfully:"avec succs."},errors:{"":""}},address:{title:"Veuillez entrer votre adresse",labels:{address:"Adresse",code:"Code postal / Zip",city:"Ville",region:"Province / Rgion",country:"Pays",firstName:"Prnom",lastName:"Nom de famille",required:"Champs obligatoires"},buttons:{submit:"Valider"},messages:{addressUpdated:"L'adresse a t mise  jour avec succs!"}},dashboard:{labels:{menu:"Menu Pelcro",name:"Nom",email:"Courriel",plan:"Plan",description:"Description",expiry:"Expiration",status:"Statut",logout:"Dconnexion",dashboard:"Tableau de bord",unsubscribe:"Se dsabonner",reactivate:"Ractiver",renew:"Renouveler",support:"Soutien",account:"Compte",subscriptions:"Abonnements",updatePaymentSource:"Mettre  jour la source de paiement",updateProfile:"Mettre  jour le profil",updateAddress:"Modifier",redeemGift:"changer un cadeau",address:"Adresse",paymentSource:"Source de paiement",actions:"Actes",expiresOn:"Expire le",renewsOn:"Renouvelle le",isSureToCancel:"tes-vous certain de vouloir annuler votre abonnement ?"},messages:{yourDashboard:"Votre tableau de bord Pelcro"},errors:{"":""}},success:{labels:{continue:"Abonnement russi !"},messages:{yourFreeTrial:"Votre essai gratuit vient de commencer",youHaveAccess:"J'espre que vous apprciez l'abonnement. Veuillez nous contacter si vous avez des questions ou des proccupations.",clickToLearn:{click:"cliquez",here:"ici",toLearn:"pour en savoir plus ou contactez-nous ",forQuestion:"pour toute question."}},errors:{"":""}},newsletter:{labels:{submit:"Lire l'article !",firstName:"Prnom",lastName:"Nom de famille",email:"Courrier lectronique",postalCode:"Code postal",required:"Champs obligatoires"},messages:{alreadyHaveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici",createAnAccount:" Crez un compte en cliquant ",here:"ici"},errors:{"":""}},select:{messages:{alreadyHaveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici",checkbox:"Cochez cette case pour offrir cet abonnement"},labels:{plan:{title:"Abonnez-vous  un plan",subtitle:"Slectionnez l'un des plans ci-dessous et cliquez sur suivant."},product:{title:"Abonnez-vous  un produit",subtitle:"Slectionnez l'un des produits ci-dessous et cliquez sur suivant."},selectProduct:"Slectionnez un produit",selectPlan:"Slectionnez un plan",starningAt:" partir de"},buttons:{next:"Prochain",select:"Choisir",back:"Retour"}},checkoutForm:{labels:{card:"Entrez le numro de carte",date:"Date d'expiration",CVC:"CVC",required:"Champs obligatoires",submit:"Soumettre",addCode:"Ajouter un code promo",hideCode:"Cacher",codePlaceholder:"Entrez votre code de coupon",applyCouponCode:"Appliquer code de coupon",code:"Code promo"}},userEdit:{labels:{title:"Voulez-vous mettre  jour votre profil?",subtitle:"Entrez vos informations ci-dessous pour mettre  jour votre profil",email:"Email",firstName:"Prnom",lastName:"Nom de famille",phone:"Numro de tlphone",submit:"Soumettre",required:"Champs obligatoires"},messages:{userUpdated:"Merci! Votre profil a t mis  jour avec succs."}},cart:{title:"Votre Panier",subtitle:"Terminez votre achat ci-dessous",name:"Produit",quantity:"Quantit",price:"Prix",actions:"Actes",remove:"Retirer",total:"Total",confirm:"Check-out",empty:"Votre panier est vide.",removeAll:"Enlever tout"},products:{buttons:{select:"Choisir",added:"Ajout au panier"}},confirm:{buttons:{continue:"Continuer au contenu"},labels:{title:"Merci pour votre commande!",subtitle:"Vos articles seront bientt en route."}}}},mo=function(t){var r=t.disabled,n=t.id,o=t.text,a=t.onClick,i=t.style,s=void 0===i?{}:i,l=t.className;return e.createElement("div",{className:"submit"},e.createElement("button",{disabled:r,name:"submit",style:s,className:"pelcro-prefix-btn ".concat(l),id:n,type:"submit",onClick:a},o))};function fo(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return ho(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ho(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yo=function(t){function r(t){var n;return to(this,r),Ve(io(io(n=so(this,lo(r).call(this,t)))),"componentDidMount",(function(){if(n.props.product){var e=n.props.product,t=e.plans;n.setState({product:e,planList:t,mode:"plan"})}if(n.props.plan){var r=n.props.plan;n.setState({plan:r,disabled:!1})}1===n.state.productList.length&&n.setState({product:n.state.productList[0],planList:n.state.productList[0].plans,mode:"plan"}),window.Pelcro.insight.track("Modal Displayed",{name:"select"}),document.addEventListener("keydown",n.handleSubmit)})),Ve(io(io(n)),"componentWillUnmount",(function(){document.removeEventListener("keydown",n.handleSubmit)})),Ve(io(io(n)),"handleSubmit",(function(e){"Enter"!==e.key||n.state.disabled||n.submitOption()})),Ve(io(io(n)),"onProductChange",(function(e){var t=window.Pelcro.product.list()[e.target.selectedIndex];n.setState({product:t,plan:t.plans[0]})})),Ve(io(io(n)),"onPlanChange",(function(e){n.setState({plan:n.state.product.plans[e.target.selectedIndex]})})),Ve(io(io(n)),"onIsGiftChange",(function(e){n.setState({isGift:e.target.checked})})),Ve(io(io(n)),"countStartPrice",(function(e){console.log("SelectModal -> arr",e);var t,r=e[0],n=fo(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.amount<r.amount&&(r=o)}}catch(e){n.e(e)}finally{n.f()}return"".concat(r.amount_formatted,"/").concat(r.interval)})),Ve(io(io(n)),"renderProducts",(function(){return n.state.productList.map((function(t){return e.createElement("div",{key:"product-".concat(t.id)},e.createElement("div",{className:"pelcro-prefix-product-container pelcro-prefix-gradient-border row"},t.image&&e.createElement("img",{alt:"product",src:"".concat(t.image),className:"pelcro-prefix-product-img col-3"}),e.createElement("div",{className:"row ".concat(t.image?"col-9":"col-12")},e.createElement("div",{className:"pelcro-prefix-product-block col-12"},e.createElement("div",{className:"pelcro-prefix-product-title"},t.name),e.createElement("div",{className:"pelcro-prefix-product-description"},t.description)),e.createElement("div",{className:"row col-12"},e.createElement("div",{className:"pelcro-prefix-product-cost col-6"}," ",e.createElement("p",null,n.locale.labels.startingAt," ",n.countStartPrice(t.plans))),e.createElement("button",{"data-key":t.id,onClick:n.selectProduct,className:"pelcro-prefix-btn pelcro-prefix-product-button col-6"},n.locale.buttons.select)))),e.createElement("div",{className:"pelcro-prefix-gradient-bg"}))}))})),Ve(io(io(n)),"renderPlans",(function(){return n.state.planList.map((function(t){var r=n.state.plan.id===t.id;return e.createElement("div",{key:"key_".concat(t.id),className:"pelcro-prefix-plan-container row"},e.createElement("label",{className:"col-12 pelcro-prefix-plan-block control control-radio",htmlFor:"id_".concat(t.id)},e.createElement("input",{type:"radio",id:"id_".concat(t.id),name:"plan",className:"",checked:r,"data-key":t.id,onChange:n.selectPlan}),e.createElement("div",{className:"control-indicator"}),e.createElement("div",{className:"pelcro-prefix-plan-title"},t.nickname),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-12 pelcro-prefix-plan-description"},t.description),e.createElement("div",{className:"col-12 pelcro-prefix-plan-price"},t.amount_formatted))))}))})),Ve(io(io(n)),"selectProduct",(function(e){var t,r=e.target.dataset.key,o=fo(n.state.productList);try{for(o.s();!(t=o.n()).done;){var a=t.value;+a.id==+r&&(n.setState({product:a}),n.setState({planList:a.plans}),n.setState({mode:"plan"}))}}catch(e){o.e(e)}finally{o.f()}})),Ve(io(io(n)),"selectPlan",(function(e){var t,r=e.target.dataset.key,o=fo(n.state.planList);try{for(o.s();!(t=o.n()).done;){var a=t.value;+a.id==+r?(a.isCheked=!0,n.setState({plan:a}),n.setState({disabled:!1})):a.isCheked=!1}}catch(e){o.e(e)}finally{o.f()}})),Ve(io(io(n)),"goBack",(function(){n.setState({disabled:!0}),n.setState({mode:"product"})})),Ve(io(io(n)),"submitOption",(function(){if(n.props.setProductAndPlan(n.state.product,n.state.plan,n.state.isGift),window.Pelcro.user.isAuthenticated())if(n.state.isGift)n.props.setView("gift");else{if((n.state.product.address_required||n.site.taxes_enabled)&&!window.Pelcro.user.read().addresses)return n.props.setView("address");n.props.setView("payment")}else n.props.setView("register")})),Ve(io(io(n)),"showError",(function(e){Yr(e,"pelcro-error-select")})),Ve(io(io(n)),"displayLoginView",(function(){n.props.setView("login")})),n.state={product:{},plan:{},isGift:t.isGift,disabled:!0,mode:"product",productList:window.Pelcro.product.list()},n.product=n.props.product||window.Pelcro.paywall.getProduct(),n.locale=function(e){var t={},r=window.Pelcro.site.read().default_locale;r||(r="en_US");var n=po[r][e];return t.getLocaleData=function(){return n},t}("select").getLocaleData(),n.site=window.Pelcro.site.read(),n.closeButton=window.Pelcro.paywall.displayCloseButton(),n}return uo(r,s),no(r,[{key:"render",value:function(){var t=this.state.product;return"product"===this.state.mode?(this.props.ReactGA.event({category:"VIEWS",action:"Product Modal Viewed",nonInteraction:!0}),e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{className:"pelcro-prefix-modal pelcro-prefix-fade pelcro-prefix-show",id:"pelcro-view-select",tabIndex:"-1",role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"pelcro-prefix-modal-dialog pelcro-prefix-modal-dialog-centered",role:"document"},e.createElement("div",{className:"pelcro-prefix-modal-content"},this.site.banner_url&&e.createElement("img",{alt:"banner",src:this.site.banner_url.url,width:"100% !important;"}),e.createElement(Qn,{closeButton:this.closeButton,resetView:this.props.resetView,site:this.site}),e.createElement("div",{className:"pelcro-prefix-modal-body"},e.createElement("div",{className:"pelcro-prefix-title-block"},e.createElement("h4",null,this.product&&this.product.paywall.select_title||window.Pelcro.product.list()[0]&&window.Pelcro.product.list()[0].paywall.select_title),e.createElement("p",null,this.product&&this.product.paywall.select_subtitle||window.Pelcro.product.list()[0]&&window.Pelcro.product.list()[0].paywall.select_subtitle)),e.createElement(gn,{name:"select"}),e.createElement("div",{className:"pelcro-prefix-product-field-wrapper"},e.createElement("div",{className:"pelcro-prefix-product-field"},this.renderProducts()))),e.createElement("div",{className:"pelcro-prefix-modal-footer"},e.createElement("small",null,this.locale.messages.alreadyHaveAccount+" ",e.createElement("button",{className:"pelcro-prefix-link",onClick:this.displayLoginView},this.locale.messages.loginHere)),e.createElement(Zn,null))))))):"plan"===this.state.mode?(this.props.ReactGA.event({category:"VIEWS",action:"Plan Modal Viewed",nonInteraction:!0}),e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{className:"pelcro-prefix-modal pelcro-prefix-fade pelcro-prefix-show",id:"pelcro-view-select",tabIndex:"-1",role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"pelcro-prefix-modal-dialog pelcro-prefix-modal-dialog-centered",role:"document"},e.createElement("div",{className:"pelcro-prefix-modal-content"},this.site.banner_url&&e.createElement("img",{alt:"banner",src:this.site.banner_url.url,width:"100% !important;"}),e.createElement(Qn,{closeButton:this.closeButton,resetView:this.props.resetView,site:this.site}),e.createElement("div",{className:"pelcro-prefix-modal-body"},e.createElement("div",{className:"pelcro-prefix-title-block"},e.createElement("h4",null,this.product&&this.product.paywall.select_title||window.Pelcro.product.list()[0]&&window.Pelcro.product.list()[0].paywall.select_title),e.createElement("p",null,this.product&&this.product.paywall.select_subtitle||window.Pelcro.product.list()[0]&&window.Pelcro.product.list()[0].paywall.select_subtitle)),e.createElement(gn,{name:"select"}),e.createElement("div",{className:"pelcro-prefix-product-field-wrapper"},e.createElement("div",{className:"pelcro-prefix-product-field"},e.createElement("div",{key:"product-".concat(t.id)},e.createElement("div",{className:"pelcro-prefix-product-container pelcro-prefix-gradient-border row"},t.image&&e.createElement("img",{alt:"product",src:"".concat(t.image),className:"pelcro-prefix-product-img col-3"}),e.createElement("div",{className:"row ".concat(t.image?"col-9":"col-12")},e.createElement("div",{className:"pelcro-prefix-product-block col-12"},e.createElement("div",{className:"pelcro-prefix-product-title"},t.name),e.createElement("div",{className:"pelcro-prefix-product-description"},t.description)),e.createElement("div",{className:"row col-12"},e.createElement("div",{className:"pelcro-prefix-product-cost col-6"}," ",e.createElement("p",null,this.locale.labels.startingAt," ",this.countStartPrice(t.plans))),e.createElement("button",{onClick:this.goBack,className:"pelcro-prefix-btn pelcro-prefix-product-button col-6"},this.locale.buttons.back)))),e.createElement("div",{className:"pelcro-prefix-gradient-bg"})))),e.createElement("div",{className:"pelcro-prefix-plan-field-wrapper"},e.createElement("div",{className:"pelcro-prefix-plan-field"},this.renderPlans())),e.createElement("div",{className:"pelcro-prefix-center-text"},e.createElement("label",{className:"pelcro-prefix-form-check-label control control-checkbox",htmlFor:"pelcro-input-is_gift"},this.locale.messages.checkbox,e.createElement("input",{onChange:this.onIsGiftChange,checked:this.state.isGift,type:"checkbox",id:"pelcro-input-is_gift"}),e.createElement("div",{className:"control-indicator"}))),e.createElement(mo,{disabled:this.state.disabled,onClick:this.submitOption,text:this.locale.buttons.next,id:"select-submit"})),e.createElement("div",{className:"pelcro-prefix-modal-footer"},e.createElement("small",null,this.locale.messages.alreadyHaveAccount+" ",e.createElement("button",{className:"pelcro-prefix-link",onClick:this.displayLoginView},this.locale.messages.loginHere)),e.createElement(Zn,null))))))):void 0}}]),r}(),bo=function(t){var r=t.name;return e.createElement("div",{id:"pelcro-success-"+r,className:"pelcro-prefix-success-message pelcro-prefix-alert pelcro-prefix-alert-success",style:{display:"none"}},e.createElement("div",{className:"pelcro-prefix-error-message-text"},e.createElement("span",null,"Here is the alert text")),e.createElement("button",{name:"close",onClick:function(){Kr("pelcro-success-"+r)},className:"pelcro-prefix-alert-close pelcro-prefix-close"},e.createElement("span",null,"")))},go=ie((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.providerContextTypes=void 0;var n=a(e),o=a(c);function a(e){return e&&e.__esModule?e:{default:e}}var i=r.providerContextTypes={tag:o.default.string.isRequired,stripe:o.default.object,addStripeLoadListener:o.default.func},s=function(e,t){window.Stripe.__cachedInstances=window.Stripe.__cachedInstances||{};var r="key="+e+" options="+JSON.stringify(t),n=window.Stripe.__cachedInstances[r]||window.Stripe(e,t);return window.Stripe.__cachedInstances[r]=n,n},l=function(e){if(e&&e.elements&&e.createSource&&e.createToken)return e;throw new Error("Please pass a valid Stripe object to StripeProvider. You can obtain a Stripe object by calling 'Stripe(...)' with your publishable key.")},u=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));if(n.props.apiKey&&n.props.stripe)throw new Error("Please pass either 'apiKey' or 'stripe' to StripeProvider, not both.");if(n.props.apiKey){if(!window.Stripe)throw new Error("Please load Stripe.js (https://js.stripe.com/v3/) on this page to use react-stripe-elements. If Stripe.js isn't available yet (it's loading asynchronously, or you're using server-side rendering), see https://github.com/stripe/react-stripe-elements#advanced-integrations");var o=n.props,a=o.apiKey,i=(o.children,o.stripe,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(o,["apiKey","children","stripe"]));n._meta={tag:"sync",stripe:s(a,i)}}else if(n.props.stripe)n._meta={tag:"sync",stripe:l(n.props.stripe)};else{if(null!==n.props.stripe)throw new Error("Please pass either 'apiKey' or 'stripe' to StripeProvider. If you're using 'stripe' but don't have a Stripe instance yet, pass 'null' explicitly.");n._meta={tag:"async",stripe:null}}return n._didWarn=!1,n._didWakeUpListeners=!1,n._listeners=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){var e=this;return"sync"===this._meta.tag?{tag:"sync",stripe:this._meta.stripe}:{tag:"async",addStripeLoadListener:function(t){e._meta.stripe?t(e._meta.stripe):e._listeners.push(t)}}},t.prototype.componentWillReceiveProps=function(e){var t=this.props.apiKey&&e.apiKey&&this.props.apiKey!==e.apiKey,r=this.props.stripe&&e.stripe&&this.props.stripe!==e.stripe;if(!this._didWarn&&(t||r)&&window.console&&window.console.error)return this._didWarn=!0,void console.error("StripeProvider does not support changing the apiKey parameter.");if(!this._didWakeUpListeners&&e.stripe){this._didWakeUpListeners=!0;var n=l(e.stripe);this._meta.stripe=n,this._listeners.forEach((function(e){e(n)}))}},t.prototype.render=function(){return n.default.Children.only(this.props.children)},t}(n.default.Component);u.propTypes={apiKey:o.default.string,stripe:o.default.object,children:o.default.node},u.childContextTypes=i,u.defaultProps={apiKey:void 0,stripe:void 0,children:null},r.default=u}));ae(go);go.providerContextTypes;var vo=ie((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.elementContextTypes=r.injectContextTypes=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=i(e),a=i(c);function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var l=r.injectContextTypes={getRegisteredElements:a.default.func.isRequired},u=r.elementContextTypes={addElementsLoadListener:a.default.func.isRequired,registerElement:a.default.func.isRequired,unregisterElement:a.default.func.isRequired},p=function(e){function t(r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r,o));return a.handleRegisterElement=function(e,t,r){a.setState((function(o){return{registeredElements:[].concat(s(o.registeredElements),[n({element:e},t?{impliedTokenType:t}:{},r?{impliedSourceType:r}:{})])}}))},a.handleUnregisterElement=function(e){a.setState((function(t){return{registeredElements:t.registeredElements.filter((function(t){return t.element!==e}))}}))},a.state={registeredElements:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){var e=this;return{addElementsLoadListener:function(t){if(e._elements)t(e._elements);else{var r=e.props,n=(r.children,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(r,["children"]));"sync"===e.context.tag?(e._elements=e.context.stripe.elements(n),t(e._elements)):e.context.addStripeLoadListener((function(r){e._elements||(e._elements=r.elements(n)),t(e._elements)}))}},registerElement:this.handleRegisterElement,unregisterElement:this.handleUnregisterElement,getRegisteredElements:function(){return e.state.registeredElements}}},t.prototype.render=function(){return o.default.Children.only(this.props.children)},t}(o.default.Component);p.childContextTypes=n({},l,u),p.contextTypes=go.providerContextTypes,p.defaultProps={children:null},r.default=p}));ae(vo);vo.elementContextTypes,vo.injectContextTypes;var Eo=ie((function(t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(n=e)&&n.__esModule?n:{default:n};function s(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.default=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=n.withRef,d=void 0!==p&&p;return r=t=function(t){function r(e,n){if(l(this,r),!n||!n.getRegisteredElements)throw new Error("It looks like you are trying to inject Stripe context outside of an Elements context.\nPlease be sure the component that calls createSource or createToken is within an <Elements> component.");var o=c(this,t.call(this,e,n));return o.findElement=function(e,t){var r=o.context.getRegisteredElements().filter((function(t){return t[e]})),n="auto"===t?r:r.filter((function(r){return r[e]===t}));if(1===n.length)return n[0].element;if(n.length>1)throw new Error("You did not specify the type of Source or Token to create.\n        We could not infer which Element you want to use for this operation.");return null},o.requireElement=function(e,t){var r=o.findElement(e,t);if(r)return r;throw new Error("You did not specify the type of Source or Token to create.\n        We could not infer which Element you want to use for this operation.")},o.wrappedCreateToken=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t&&"object"===(void 0===t?"undefined":a(t))){var n=t,i=n.type,l=s(n,["type"]),c="string"==typeof i?i:"auto",u=o.requireElement("impliedTokenType",c);return e.createToken(u,l)}if("string"==typeof t){var p=t;return e.createToken(p,r)}throw new Error("Invalid options passed to createToken. Expected an object, got "+(void 0===t?"undefined":a(t))+".")}},o.wrappedCreateSource=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&"object"===(void 0===t?"undefined":a(t))){if("string"!=typeof t.type)throw new Error("Invalid Source type passed to createSource. Expected string, got "+a(t.type)+".");var r=o.findElement("impliedSourceType",t.type);return r?e.createSource(r,t):e.createSource(t)}throw new Error("Invalid options passed to createSource. Expected an object, got "+(void 0===t?"undefined":a(t))+".")}},"sync"===o.context.tag?o.state={stripe:o.stripeProps(o.context.stripe)}:o.state={stripe:null},o}return u(r,t),r.prototype.componentDidMount=function(){var e=this;"async"===this.context.tag&&this.context.addStripeLoadListener((function(t){e.setState({stripe:e.stripeProps(t)})}))},r.prototype.getWrappedInstance=function(){if(!d)throw new Error("To access the wrapped instance, the `{withRef: true}` option must be set when calling `injectStripe()`");return this.wrappedInstance},r.prototype.stripeProps=function(e){return o({},e,{createToken:this.wrappedCreateToken(e),createSource:this.wrappedCreateSource(e)})},r.prototype.render=function(){var t=this;return i.default.createElement(e,o({},this.props,{stripe:this.state.stripe,ref:d?function(e){t.wrappedInstance=e}:null}))},r}(i.default.Component),t.contextTypes=o({},go.providerContextTypes,vo.injectContextTypes),t.displayName="InjectStripe("+(e.displayName||e.name||"Component")+")",r}}));ae(Eo);var wo=ie((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){if("object"!==(void 0===t?"undefined":r(t))||"object"!==(void 0===n?"undefined":r(n)))return t===n;if(null===t||null===n)return t===n;var o=Array.isArray(t);if(o!==Array.isArray(n))return!1;var a="[object Object]"===Object.prototype.toString.call(t);if(a!==("[object Object]"===Object.prototype.toString.call(n)))return!1;if(!a&&!o)return!1;var i=Object.keys(t),s=Object.keys(n);if(i.length!==s.length)return!1;for(var l={},c=0;c<i.length;c+=1)l[i[c]]=!0;for(var u=0;u<s.length;u+=1)l[s[u]]=!0;var p=Object.keys(l);if(p.length!==i.length)return!1;var d=t,m=n;return p.every((function(t){return e(d[t],m[t])}))}}));ae(wo);var No=ie((function(t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=i(e),o=i(c),a=i(wo);function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(){},d=function(e){e.id,e.className,e.onChange,e.onFocus,e.onBlur,e.onReady;return function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["id","className","onChange","onFocus","onBlur","onReady"])},m=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};r.default=function(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=t=function(t){function r(e,n){s(this,r);var o=l(this,t.call(this,e,n));o.handleRef=function(e){o._ref=e},o._element=null;var a=d(o.props);return o._options=a,o}return u(r,t),r.prototype.componentDidMount=function(){var t=this;this.context.addElementsLoadListener((function(r){var n=r.create(e,t._options);t._element=n,t._setupEventListeners(n),n.mount(t._ref),(i.impliedTokenType||i.impliedSourceType)&&t.context.registerElement(n,i.impliedTokenType,i.impliedSourceType)}))},r.prototype.componentWillReceiveProps=function(e){var t=d(e);0===Object.keys(t).length||(0,a.default)(t,this._options)||(this._options=t,this._element&&this._element.update(t))},r.prototype.componentWillUnmount=function(){if(this._element){var e=this._element;e.destroy(),this.context.unregisterElement(e)}},r.prototype._setupEventListeners=function(e){var t=this;e.on("ready",(function(){t.props.onReady(t._element)})),e.on("change",(function(e){t.props.onChange(e)})),e.on("blur",(function(){var e;return(e=t.props).onBlur.apply(e,arguments)})),e.on("focus",(function(){var e;return(e=t.props).onFocus.apply(e,arguments)}))},r.prototype.render=function(){return n.default.createElement("div",{id:this.props.id,className:this.props.className,ref:this.handleRef})},r}(n.default.Component),t.propTypes={id:o.default.string,className:o.default.string,onChange:o.default.func,onBlur:o.default.func,onFocus:o.default.func,onReady:o.default.func},t.defaultProps={id:void 0,className:void 0,onChange:p,onBlur:p,onFocus:p,onReady:p},t.contextTypes=vo.elementContextTypes,t.displayName=m(e)+"Element",r}}));ae(No);var xo=ie((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every((function(r){return t.hasOwnProperty(r)&&t[r]===e[r]}))}}));ae(xo);var Oo=ie((function(t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=s(e),a=s(c),i=s(xo);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){},u=function(e){e.id,e.className,e.onBlur,e.onClick,e.onFocus,e.onReady,e.paymentRequest;return function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["id","className","onBlur","onClick","onFocus","onReady","paymentRequest"])},p=function(e){function t(r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r,n));o.handleRef=function(e){o._ref=e};var a=u(r);return o._options=a,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this.context.addElementsLoadListener((function(t){e._element=t.create("paymentRequestButton",n({paymentRequest:e.props.paymentRequest},e._options)),e._element.on("ready",(function(){e.props.onReady(e._element)})),e._element.on("focus",(function(){var t;return(t=e.props).onFocus.apply(t,arguments)})),e._element.on("click",(function(){var t;return(t=e.props).onClick.apply(t,arguments)})),e._element.on("blur",(function(){var t;return(t=e.props).onBlur.apply(t,arguments)})),e._element.mount(e._ref)}))},t.prototype.componentWillReceiveProps=function(e){this.props.paymentRequest!==e.paymentRequest&&console.warn("Unsupported prop change: paymentRequest is not a customizable property.");var t=u(e);0===Object.keys(t).length||(0,i.default)(t,this._options)||(this._options=t,this._element.update(t))},t.prototype.componentWillUnmount=function(){this._element.destroy()},t.prototype.render=function(){return o.default.createElement("div",{id:this.props.id,className:this.props.className,ref:this.handleRef})},t}(o.default.Component);p.propTypes={id:a.default.string,className:a.default.string,onBlur:a.default.func,onClick:a.default.func,onFocus:a.default.func,onReady:a.default.func,paymentRequest:a.default.shape({canMakePayment:a.default.func.isRequired,on:a.default.func.isRequired,show:a.default.func.isRequired}).isRequired},p.defaultProps={id:void 0,className:void 0,onBlur:l,onClick:l,onFocus:l,onReady:l},p.contextTypes=vo.elementContextTypes,r.default=p}));ae(Oo);var Po=ie((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IdealBankElement=t.IbanElement=t.PaymentRequestButtonElement=t.PostalCodeElement=t.CardCVCElement=t.CardExpiryElement=t.CardNumberElement=t.CardElement=t.Elements=t.injectStripe=t.StripeProvider=void 0;var r=s(go),n=s(Eo),o=s(vo),a=s(No),i=s(Oo);function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,a.default)("card",{impliedTokenType:"card",impliedSourceType:"card"}),c=(0,a.default)("cardNumber",{impliedTokenType:"card",impliedSourceType:"card"}),u=(0,a.default)("cardExpiry"),p=(0,a.default)("cardCvc"),d=(0,a.default)("postalCode"),m=(0,a.default)("iban",{impliedTokenType:"bank_account",impliedSourceType:"sepa_debit"}),f=(0,a.default)("idealBank",{impliedSourceType:"ideal"});t.StripeProvider=r.default,t.injectStripe=n.default,t.Elements=o.default,t.CardElement=l,t.CardNumberElement=c,t.CardExpiryElement=u,t.CardCVCElement=p,t.PostalCodeElement=d,t.PaymentRequestButtonElement=i.default,t.IbanElement=m,t.IdealBankElement=f}));ae(Po);Po.IdealBankElement,Po.IbanElement,Po.PaymentRequestButtonElement,Po.PostalCodeElement;var So=Po.CardCVCElement,Co=Po.CardExpiryElement,_o=Po.CardNumberElement,jo=(Po.CardElement,Po.Elements),ko=Po.injectStripe,Ao=Po.StripeProvider;function To(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?To(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):To(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Lo={disableSubmit:!1,disableCouponButton:!1,couponCode:"",enableCouponField:!1,percentOff:null,coupon:null},Do=o(Lo),Io=Do.Provider,Fo=function(e){Yr(e,"pelcro-error-payment-create")},Vo=ko((function(t){var r=t.style,o=t.className,a=t.children,i=t.successMessage,s=t.stripe,l=t.type,c=t.subscriptionIdToRenew,u=t.plan,p=t.product,d=t.giftRecipient,m=t.couponCode,f=t.setView,h=Re("messages").t;n((function(){console.log("checkoutFormContainer got mounted"),window.Pelcro.insight.track("Modal Displayed",{name:"payment"}),window.Pelcro.coupon.getFromUrl()&&E({type:"UPDATE_COUPON_CODE",payload:window.Pelcro.coupon.getFromUrl()})}),[]);var y=function(e,t,r){r({type:He,payload:!0}),window.Pelcro.source.create({auth_token:window.Pelcro.user.read().auth_token,token:e.id},(function(e){if(console.log("createPayment -> err",e),r({type:He,payload:!1}),e)return Fo(Wr(e));var t;t=i,console.log("will show success message: ",t),$r(t,"pelcro-success-payment-create")}))},b=function(e,t){return console.log("submit payment!!"),s.createToken().then((function(e){var r=e.token,n=e.error;n?(Yr(Wr(n),"pelcro-error-payment-create"),t({type:He,payload:!1})):r&&"createPayment"===l?(t({type:He,payload:!0}),function(e,t,r){console.log("subscribe to plan"),c?window.Pelcro.subscription.renew({stripe_token:e.id,auth_token:window.Pelcro.user.read().auth_token,plan_id:u.id,coupon_code:m,subscription_id:c,address_id:p.address_required?window.Pelcro.user.read().addresses[window.Pelcro.user.read().addresses.length-1]:null},(function(e,t){if(r({type:He,payload:!1}),e)return Fo(Wr(e));d?(f(""),window.alert("".concat(h("giftSent")," ").concat(d.email," ").concat(h("successfully")))):(f("success"),console.log("subscribe renew -> success"))})):window.Pelcro.subscription.create({stripe_token:e.id,auth_token:window.Pelcro.user.read().auth_token,plan_id:u.id,coupon_code:m,gift_recipient_email:d?d.email:null,address_id:p.address_required?window.Pelcro.user.read().addresses[window.Pelcro.user.read().addresses.length-1].id:null},(function(e,t){if(r({type:He,payload:!1}),e)return Yr(Wr(e),"pelcro-error-payment");d?(window.alert("".concat(h("giftSent")," ").concat(d.email," ").concat(h("successfully"))),f("")):(f("success"),console.log("subscribe -> success"))}))}(r,0,t)):r&&y(r,0,t)}))},g=qe(Me((function(e,t){switch(console.log("state, action",e,t),t.type){case He:return Be(Ro({},e,{disableSubmit:t.payload}));case"SHOW_COUPON_FIELD":return Be(Ro({},e,{enableCouponField:t.payload}));case"DISABLE_COUPON_BUTTON":return Be(Ro({},e,{disableCouponButton:t.payload}));case"CREATE_PAYMENT":return ze(Ro({},e,{disableSubmit:!0}),(function(e,r){return y(t.payload,0,r)}));case"SUBMIT_PAYMENT":return console.log("SUBMIT_PAYMENT"),ze(Ro({},e,{disableSubmit:!0}),(function(e,t){return b(0,t)}));case"APPLY_COUPON_CODE":return ze(Ro({},e,{disableCouponButton:!0}),(function(e,t){return function(e,t){t({type:"DISABLE_COUPON_BUTTON",payload:!0}),window.Pelcro.order.create({auth_token:window.Pelcro.user.read().auth_token,plan_id:u.id,coupon_code:e.couponCode},(function(e,r){if(t({type:"DISABLE_COUPON_BUTTON",payload:!1}),e)return t({type:"SET_PERCENT_OFF",payload:""}),Yr(Wr(e),"pelcro-error-payment");Gr("pelcro-error-payment"),t({type:"SET_PERCENT_OFF",payload:"Discounted price: $"+r.data.total}),t({type:"SET_COUPON",payload:r.data.coupon})}))}(e,t)}));case"SET_COUPON":return Be(Ro({},e,{coupon:t.payload}));case"UPDATE_COUPON_CODE":return Be(Ro({},e,{couponCode:t.payload}));case"SET_PERCENT_OFF":return Be(Ro({},e,{percentOff:t.payload}));default:throw new Error}}),Lo),2),v=g[0],E=g[1];return e.createElement("div",{style:Ro({},r),className:o},e.createElement(Io,{value:{state:v,dispatch:E}},a.length?a.map((function(t,r){return e.cloneElement(t,{store:Do,key:r})})):e.cloneElement(a,{store:Do})))})),qo=function(t){return window.Stripe?e.createElement(Ao,{apiKey:window.Pelcro.environment.stripe,stripeAccount:window.Pelcro.site.read().account_id},e.createElement(jo,null,e.createElement(Vo,t))):null},Uo=function(){var r=t(Do).state.percentOff;return r?e.createElement("span",null,r):""},Mo=function(r){var o=r.name,a=r.style,i=r.className,s=t(Do),c=s.dispatch,u=s.state.disableSubmit;return n((function(){return console.log("SubmitCheckoutForm mounted")}),[]),l((function(){return e.createElement(mo,{onClick:function(){return c({type:"SUBMIT_PAYMENT"})},text:o,disabled:u,style:a,className:i})}),[i,o,u,a])},zo=function(r){var n=r.children,o=t(Do),a=o.state,i=a.disableCouponButton,s=a.couponCode,l=a.disableCouponButton,c=o.dispatch;return e.createElement(fn,{className:"pelcro-prefix-link",type:"button",onClick:function(){return c({type:"APPLY_COUPON_CODE"})},disabled:!s||l||i},n)},Bo=function(r){var n=r.showCoupon,o=t(Do),a=o.dispatch,i=o.state,s=i.enableCouponField,l=i.couponCode,c=i.disableCouponButton,u=Re("checkoutForm").t;return n?e.createElement("div",null,e.createElement("button",{className:"pelcro-prefix-link",type:"button",onClick:function(){return a({type:"SHOW_COUPON_FIELD",payload:!0})},style:s?{}:{marginBottom:10}},u(s?"labels.hideCode":"labels.addCode")),s&&e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-sm-12"},e.createElement("div",{className:"pelcro-prefix-input-wrapper"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-coupon_code"},u("labels.code")),e.createElement("input",{value:l,onChange:function(e){return a({type:"UPDATE_COUPON_CODE",payload:e.target.value})},className:"pelcro-prefix-input pelcro-prefix-form-control",type:"text",placeholder:u("labels.codePlaceholder"),id:"pelcro-input-coupon_code"}))),e.createElement("div",{className:"col-sm-12 apply-coupon-button"},e.createElement("div",{className:"pelcro-prefix-input-wrapper"},e.createElement(zo,{disableCouponButton:c},u("labels.applyCouponCode")))))):null};function Ho(t){t.enableCouponField,t.showCouponField;var r=t.couponCode,n=(t.onCouponCodeChange,t.onApplyCouponCode,t.disableCouponButton,t.successMessage),o=t.ReactGA,a=t.showCoupon,i=t.type,s=t.subscriptionIdToRenew,l=t.giftRecipient,c=t.plan,u=t.product,p=t.setView,d=Re("checkoutForm").t;return e.createElement(qo,{type:i,successMessage:n,ReactGA:o,subscriptionIdToRenew:s,giftRecipient:l,plan:c,product:u,couponCode:r,setView:p},e.createElement("div",{className:"pelcro-prefix-form"},e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-12"},e.createElement("label",{className:"pelcro-prefix-label"},d("labels.card")," *"),e.createElement(Ja,null),e.createElement("img",{alt:"credit_cards",className:"pelcro-prefix-payment-icons",src:"https://js.pelcro.com/ui/plugin/main/images/credit_cards.png"})),e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label"},d("labels.date")," *"),e.createElement($a,null)),e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label"},d("labels.CVC")," *"),e.createElement(Ka,null)),e.createElement("div",{className:"col-md-12"},e.createElement("small",{className:"pelcro-footnote form-text"},"* ",d("labels.required")),e.createElement(Bo,{showCoupon:a}),e.createElement(Uo,null),e.createElement(Mo,{name:d("labels.submit")})))))}function Wo(t){var r=qe(Re("paymentCreate"),1)[0];return e.createElement(e.Fragment,null,e.createElement("div",{className:"pelcro-prefix-title-block"},e.createElement("h4",null,r("title")),e.createElement("p",null,r("subtitle"))),e.createElement(gn,{name:"payment-create"}),e.createElement(bo,{name:"payment-create"}),e.createElement("div",{className:"pelcro-prefix-payment-block"},e.createElement("div",{className:"pelcro-prefix-alert pelcro-prefix-alert-success"},e.createElement("div",{className:"pelcro-prefix-payment-message"},e.createElement("span",null,r("secure")," ",e.createElement("a",{className:"pelcro-prefix-link",rel:"nofollow",target:"new",href:"https://www.stripe.com/us/customers"},"Stripe")," "))),e.createElement("div",{className:"pelcro-prefix-form"},e.createElement(Ho,{successMessage:r("success"),showCoupon:!1}))))}var Go=function(t){var o=qe(r({}),2),a=o[0],i=o[1];return n((function(){i(window.Pelcro.site.read())}),[]),e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{className:"pelcro-prefix-modal modal pelcro-prefix-fade pelcro-prefix-show",id:"pelcro-view-payment",tabIndex:"-1",role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"pelcro-prefix-modal-dialog pelcro-prefix-modal-dialog-centered",role:"document"},e.createElement("div",{className:"pelcro-prefix-modal-content"},e.createElement(Qn,{closeButton:!0,resetView:function(){return t.setView("")},site:a}),e.createElement("div",{className:"pelcro-prefix-modal-body"},e.createElement(Wo,t)),e.createElement("div",{className:"pelcro-prefix-modal-footer"},e.createElement(Zn,null))))))},Yo=function(t){var r=t.resetView,n=t.product,o=Re("success").t;return n?e.createElement(e.Fragment,null,e.createElement("div",{className:"pelcro-prefix-title-block"},e.createElement("h4",null,n.paywall.success_title)),e.createElement("div",null,e.createElement("p",{className:"pelcro-prefix-center-text"},n.paywall.success_content)),e.createElement(mo,{onClick:r,text:o("continue")})):null},Ko=function(t){function r(){var e,t;to(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Ve(io(io(t=so(this,(e=lo(r)).call.apply(e,[this].concat(o))))),"componentDidMount",(function(){window.Pelcro.insight.track("Modal Displayed",{name:"success"}),document.addEventListener("keydown",t.handleSubmit)})),Ve(io(io(t)),"componentWillUnmount",(function(){document.removeEventListener("keydown",t.handleSubmit)})),Ve(io(io(t)),"handleSubmit",(function(e){"Enter"===e.key&&t.props.resetView()})),t}return uo(r,s),no(r,[{key:"render",value:function(){return e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{className:"pelcro-prefix-modal pelcro-prefix-fade pelcro-prefix-show",id:"pelcro-view-success",tabIndex:"-1",role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"pelcro-prefix-modal-dialog pelcro-prefix-modal-dialog-centered",role:"document"},e.createElement("div",{className:"pelcro-prefix-modal-content"},e.createElement(Qn,{closeButton:window.Pelcro.paywall.displayCloseButton(),resetView:this.props.resetView,site:window.Pelcro.site.read()}),e.createElement("div",{className:"pelcro-prefix-modal-body"},e.createElement(Yo,{resetView:this.props.resetView,product:this.props.product})),e.createElement("div",{className:"pelcro-prefix-modal-footer"},e.createElement(Zn,null))))))}}]),r}(),$o=function(t){function r(e){var t;return to(this,r),Ve(io(io(t=so(this,lo(r).call(this,e)))),"componentDidMount",(function(){window.Pelcro.insight.track("Modal Displayed",{name:"newsletter"}),document.addEventListener("keydown",t.handleSubmit)})),Ve(io(io(t)),"componentWillUnmount",(function(){document.removeEventListener("keydown",t.handleSubmit)})),Ve(io(io(t)),"handleSubmit",(function(e){"Enter"!==e.key||t.state.disableSubmit||t.submitNewsletter()})),Ve(io(io(t)),"showError",(function(e){Yr(e,"pelcro-error-newsletter")})),Ve(io(io(t)),"displayLoginView",(function(){t.props.setView("login")})),Ve(io(io(t)),"displaySelectView",(function(){t.props.setView("select")})),Ve(io(io(t)),"submitNewsletter",(function(){var e=this;this.setState({disableSubmit:!0}),window.Pelcro.newsletter.create({first_name:this.state.firstName,last_name:this.state.lastName,email:this.state.email,postal_code:this.state.postalCode,source:"web",lists:"default",consent_url:window.location.href,consent_text:this.product.paywall.newsletter_subtitle,consent_type:"explicit"},(function(t,r){if(e.setState({disableSubmit:!1}),t)return e.showError(Wr(t));e.postSubmit()}))})),Ve(io(io(t)),"postSubmit",(function(){window.Pelcro.paywall.decrementPageViewFrequency(this.product.paywall.newsletter_extra_visits,this.product.paywall.frequency_limit),this.props.setView("meter")})),t.state={disableSubmit:!1,email:"",firstName:"",lastName:"",postalCode:""},t.plan=t.props.plan||window.Pelcro.paywall.getProduct().plans[0],t.product=t.props.product||window.Pelcro.paywall.getProduct(),t.site=window.Pelcro.site.read(),t.closeButton=window.Pelcro.paywall.displayCloseButton(),t.submitNewsletter=t.submitNewsletter.bind(io(io(t))),t.displayLoginView=t.displayLoginView.bind(io(io(t))),t.postSubmit=t.postSubmit.bind(io(io(t))),t.onEmailChange=t.onEmailChange.bind(io(io(t))),t.onFirstNameChange=t.onFirstNameChange.bind(io(io(t))),t.onLastNameChange=t.onLastNameChange.bind(io(io(t))),t.onPostalCodeChange=t.onPostalCodeChange.bind(io(io(t))),t}return uo(r,s),no(r,[{key:"onEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"onFirstNameChange",value:function(e){this.setState({firstName:e.target.value})}},{key:"onLastNameChange",value:function(e){this.setState({lastName:e.target.value})}},{key:"onPostalCodeChange",value:function(e){this.setState({postalCode:e.target.value})}},{key:"render",value:function(){var t=this.props.t;return e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{className:"pelcro-prefix-modal pelcro-prefix-fade pelcro-prefix-show",id:"pelcro-view-newsletter",tabIndex:"-1",role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"pelcro-prefix-modal-dialog pelcro-prefix-modal-dialog-centered",role:"document"},e.createElement("div",{className:"pelcro-prefix-modal-content"},e.createElement(Qn,{closeButton:this.closeButton,resetView:this.props.resetView,site:this.site}),e.createElement("div",{className:"pelcro-prefix-modal-body"},e.createElement("div",{className:"pelcro-prefix-title-block"},e.createElement("h4",null,this.product.paywall.newsletter_title),e.createElement("p",null,this.product.paywall.newsletter_subtitle)),e.createElement(gn,{name:"newsletter"}),e.createElement("div",{className:"pelcro-prefix-form"},e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-sm-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-first_name"},t("firstName")),e.createElement("input",{value:this.state.first_name,onChange:this.onFirstNameChange,className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"first-name",id:"pelcro-input-first_name",type:"text",placeholder:t("firstName")})),e.createElement("div",{className:"col-sm-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-last_name"},t("lastName")),e.createElement("input",{value:this.state.last_name,onChange:this.onLastNameChange,className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"last-name",id:"pelcro-input-last_name",type:"text",placeholder:t("lastName")}))),e.createElement("div",{className:"pelcro-prefix-form-group"},e.createElement("label",{htmlFor:"pelcro-input-email",className:"pelcro-prefix-label"},t("email")," *"),e.createElement("input",{id:"pelcro-input-email",onChange:this.onEmailChange,type:"text",className:"pelcro-prefix-input pelcro-prefix-form-control",placeholder:t("email")})),e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-sm-12"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-postal_code"},t("postalCode")),e.createElement("input",{value:this.state.postal_code,onChange:this.onPostalCodeChange,className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"postal-code",id:"pelcro-input-postal_code",type:"text",placeholder:t("postalCode")}))),e.createElement(mo,{onClick:this.submitNewsletter,text:t("submit"),disabled:this.state.disableSubmit}),e.createElement("small",{className:"pelcro-prefix-footnote pelcro-prefix-form-text"},"* ",t("required")))),e.createElement("div",{className:"pelcro-prefix-modal-footer"},e.createElement("small",null,t("alreadyHaveAccount")+" ",e.createElement("button",{className:"pelcro-prefix-link ",onClick:this.displayLoginView},t("loginHere")),t("createAnAccount"),e.createElement("button",{className:"pelcro-prefix-link ",onClick:this.displaySelectView},t("here"))),e.createElement(Zn,null))))))}}]),r}(),Jo=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function o(o){var a=o.forwardedRef,i=re(o,["forwardedRef"]),s=Re(t,i),l=ke(s,3),c=De({},i,{t:l[0],i18n:l[1],tReady:l[2]});return r.withRef&&a?c.ref=a:!r.withRef&&a&&(c.forwardedRef=a),e.createElement(n,c)}o.displayName="withI18nextTranslation(".concat(Oe(n),")"),o.WrappedComponent=n;return r.withRef?e.forwardRef((function(t,r){return e.createElement(o,Object.assign({},t,{forwardedRef:r}))})):o}}("newsletter")($o),Qo=function(t){var r=Re("meter").t,n=t.plan||window.Pelcro.paywall.getProduct()&&window.Pelcro.paywall.getProduct().plans[0],o=t.product||window.Pelcro.paywall.getProduct(),a=window.Pelcro.paywall.freeVisitsLeft(),i=window.Pelcro.site.read();return e.createElement(e.Fragment,null,i.logo.url&&e.createElement("img",{alt:"avatar",className:"pelcro-prefix-site-logo pelcro-prefix-center",src:i.logo.url}),e.createElement("div",null,e.createElement("h4",null,n&&o.paywall.meter_title,": ",a),e.createElement("p",null,n&&o.paywall.meter_subtitle," ",e.createElement("button",{className:"pelcro-prefix-link",onClick:function(){t.setView("select")}},r("messages.subscribeNow")),!window.Pelcro.user.isAuthenticated()&&e.createElement("span",null," "+r("messages.alreadyHaveAccount")+" ",e.createElement("button",{className:"pelcro-prefix-link",onClick:function(){t.setView("login")}}," ",r("messages.loginHere"))))))},Zo=function(t){return e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{id:"pelcro-view-meter",className:"col-sm-4 col-md-3","data-animation":"from-bottom","data-autoshow":"200"},e.createElement("button",{type:"button",className:"pelcro-prefix-close","aria-label":"Close",onClick:t.resetView},e.createElement("span",null,"")),e.createElement("div",null,e.createElement(Qo,t))))},Xo=function(t){var r=t.openDashboard;return e.createElement("div",{className:"pelcro-prefix-pelcro-view"},e.createElement("button",{name:"menu",id:"pelcro-view-menu",onClick:r},e.createElement("div",{className:"pelcro-prefix-menu-arrow"},"<")))},ea=function(t){var r=t.product,n=t.plan,o=t.setView,a=t.resetView,i=t.giftRecipient,s=t.subscriptionIdToRenew,l=Re("messages").t;return e.createElement("div",null,e.createElement("div",{className:"pelcro-prefix-title-block"},e.createElement("h4",null,r.paywall.subscribe_title),e.createElement("p",null,r.paywall.subscribe_subtitle," - ",n.amount_formatted,n.auto_renew&&e.createElement("span",null,"/(",n.interval_count,")")," ",n.interval,".")),e.createElement(gn,{name:"payment"}),e.createElement(bo,{name:"payment"}),e.createElement("div",{className:"pelcro-prefix-payment-block"},e.createElement("div",{className:"pelcro-prefix-alert pelcro-prefix-alert-success"},e.createElement("div",{className:"pelcro-prefix-payment-message"},e.createElement("span",null,l("youAreSafe")," ",e.createElement("a",{className:"pelcro-prefix-link",rel:"nofollow",target:"new",href:"https://www.stripe.com/us/customers"},"Stripe")," "))),e.createElement("div",{className:"pelcro-prefix-form"},e.createElement(Ho,{type:"createPayment",showCoupon:!0,plan:n,subscriptionIdToRenew:s,giftRecipient:i,product:r,setView:o,resetView:a}))))};function ta(t){var r=t.resetView,n=t.logout,o=t.plan,a=t.subscriptionIdToRenew,i=t.giftRecipient,s=t.product,l=t.setView,c=t.isGift,u=Re("messages").t;return e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{className:"pelcro-prefix-modal modal pelcro-prefix-fade pelcro-prefix-show",id:"pelcro-view-payment",tabIndex:"-1",role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"pelcro-prefix-modal-dialog pelcro-prefix-modal-dialog-centered",role:"document"},e.createElement("div",{className:"pelcro-prefix-modal-content"},e.createElement(Qn,{closeButton:window.Pelcro.paywall.displayCloseButton(),resetView:r,site:window.Pelcro.site.read()}),e.createElement("div",{className:"pelcro-prefix-modal-body"},e.createElement(ea,{plan:o,subscriptionIdToRenew:a,giftRecipient:i,product:s,setView:l,resetView:r,isGift:c})),e.createElement("div",{className:"pelcro-prefix-modal-footer"},e.createElement("small",null,u("haveQuestion")," ",u("visitOurFaq.visitOur")," ",e.createElement("a",{className:"pelcro-prefix-link",target:"new",href:"https://www.pelcro.com/faq/user"},u("visitOurFaq.faq")),". ",u("cancel")," "+u("logout.logout")," ",e.createElement("button",{className:"pelcro-prefix-link",onClick:n},u("logout.here"))),e.createElement(Zn,null))))))}function ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ra(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oa={email:window.Pelcro.user.read().email,firstName:window.Pelcro.user.read().first_name,lastName:window.Pelcro.user.read().last_name,phone:window.Pelcro.user.read().phone,buttonDisabled:!1,textFields:{}},aa=o(oa),ia=aa.Provider,sa=function(t){var r=t.style,n=t.className,o=t.onSuccess,a=void 0===o?function(){}:o,i=t.children,s=Re("userEdit").t,l=qe(Me((function(e,t){switch(t.type){case"SET_TEXT_FIELD":return Be(na({},e,{textFields:na({},e.textFields,{},t.payload)}));case"SET_FIRST_NAME":return Be(na({},e,{firstName:t.payload}));case"SET_LAST_NAME":return Be(na({},e,{lastName:t.payload}));case"SET_PHONE":return Be(na({},e,{phone:t.payload}));case"DISABLE_USER_UPDATE_BUTTON":return Be(na({},e,{buttonDisabled:t.payload}));case"HANDLE_USER_UPDATE":return ze(na({},e,{buttonDisabled:!0}),(function(e,t){return function(e,t){var r=e.firstName,n=e.lastName,o=e.phone,i=e.textFields;window.Pelcro.user.update({auth_token:window.Pelcro.user.read().auth_token,first_name:r,last_name:n,phone:o,metadata:na({updated:"updated"},i)},(function(e,r){if(t({type:"DISABLE_USER_UPDATE_BUTTON",payload:!1}),e)return Yr(Wr(e),"pelcro-error-user-edit");$r(s("messages.userUpdated"),"pelcro-success-user-edit"),a()}))}(e,t)}));default:throw new Error}}),oa),2),c=l[0],u=l[1];return e.createElement("div",{style:na({},r),className:n},e.createElement(ia,{value:{state:c,dispatch:u}},i.length?i.map((function(t,r){return e.cloneElement(t,{store:aa,key:r})})):e.cloneElement(i,{store:aa})))},la=function(t){return e.createElement(an,Object.assign({disabled:!0,id:"pelcro-login-email",value:window.Pelcro.user.read().email,store:aa},t))};function ca(){return(ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ua=function(r){var n=ca({},r),o=t(aa),a=o.state.buttonDisabled,i=o.dispatch;return e.createElement(fn,Object.assign({},n,{onClick:function(){return i({type:"HANDLE_USER_UPDATE"})},disabled:a}),n.name||"SUBMIT")},pa=function(t){var r=Re("userEdit").t;return e.createElement(sa,t,e.createElement("div",{className:"pelcro-prefix-title-block"},e.createElement("h4",null,r("labels.title")),e.createElement("p",null,r("labels.subtitle"))),e.createElement(gn,{name:"user-edit"}),e.createElement(bo,{name:"user-edit"}),e.createElement("div",{className:"pelcro-prefix-form"},e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-12"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-email"},r("labels.email")," "),e.createElement(la,{placeholder:r("labels.email"),className:"pelcro-prefix-input pelcro-prefix-form-control"}))),e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-first_name"},r("labels.firstName")," "),e.createElement(ya,{className:"pelcro-prefix-input pelcro-prefix-form-control",placeholder:r("labels.firstName")})),e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-last_name"},r("labels.lastName")," "),e.createElement(Ea,{className:"pelcro-prefix-input pelcro-prefix-form-control",id:"pelcro-input-last_name",placeholder:r("labels.lastName")})),e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-last_name"},"Organization Name"),e.createElement(_a,{fieldName:"organization",className:"pelcro-prefix-input pelcro-prefix-form-control",id:"pelcro-input-organization",placeholder:"organization"}))),e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-12"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-phone"},r("labels.phone")," "),e.createElement(Oa,{className:"pelcro-prefix-input pelcro-prefix-form-control",id:"pelcro-input-phone",placeholder:r("labels.phone")}))),e.createElement("small",{className:"pelcro-prefix-footnote pelcro-prefix-form-text"},"* ",r("labels.required")),e.createElement(ua,{className:"pelcro-prefix-btn",name:r("labels.submit"),id:"edit-submit"})))};function da(t){return e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{className:"pelcro-prefix-modal pelcro-prefix-fade pelcro-prefix-show",id:"pelcro-view-user-edit",tabIndex:"-1",role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"pelcro-prefix-modal-dialog pelcro-prefix-modal-dialog-centered",role:"document"},e.createElement("div",{className:"pelcro-prefix-modal-content"},e.createElement(Qn,{closeButton:window.Pelcro.paywall.displayCloseButton(),resetView:function(){return t.setView("")},site:window.Pelcro.site.read()}),e.createElement("div",{className:"pelcro-prefix-modal-body"},e.createElement(pa,t)),e.createElement("div",{className:"pelcro-prefix-modal-footer"},e.createElement(Zn,null))))))}function ma(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ma(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ha(r){var n=r.placeholder,o=r.style,a=r.className,i=r.id,s=r.store,l=rn(r,["placeholder","style","className","id","store"]),c=t(s),u=c.dispatch,p=c.state;return e.createElement("input",Object.assign({type:"text",id:i,style:fa({},o),className:a,value:p.firstName||window.Pelcro.user.read().first_name,onChange:function(e){return t=e.target.value,void u({type:"SET_FIRST_NAME",payload:t});var t},placeholder:n||"Enter Your First Name"},l))}var ya=function(t){return e.createElement(ha,Object.assign({id:"pelcro-user-first-name",store:aa},t))};function ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function va(r){var n=r.placeholder,o=r.style,a=r.className,i=r.id,s=r.store,l=rn(r,["placeholder","style","className","id","store"]),c=t(s),u=c.dispatch,p=c.state;return e.createElement("input",Object.assign({type:"text",id:i,style:ga({},o),className:a,value:p.lastName||window.Pelcro.user.read().last_name,onChange:function(e){return t=e.target.value,void u({type:"SET_LAST_NAME",payload:t});var t},placeholder:n||"Enter Your Last Name"},l))}var Ea=function(t){return e.createElement(va,Object.assign({id:"pelcro-user-last-name",store:aa},t))};function wa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xa(n){var o=n.placeholder,i=n.style,s=n.className,l=n.id,c=n.store,u=rn(n,["placeholder","style","className","id","store"]),p=t(c),d=p.dispatch,m=p.state.phone,f=qe(r(m),2),h=f[0],y=f[1],b=a((function(e){y(e),d({type:"SET_PHONE",payload:e})}),[d,h]);return e.createElement(e.Fragment,null,e.createElement("input",Object.assign({type:"text",id:l,style:Na({},i),className:s,value:h||window.Pelcro.user.read().phone,onChange:function(e){return b(e.target.value)},placeholder:o||"Phone"},u)))}var Oa=function(t){return e.createElement(xa,Object.assign({id:"pelcro-user-phone",store:aa},t))};function Pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ca(r){var n=r.placeholder,o=r.style,a=r.className,i=r.id,s=r.store,l=r.fieldName,c=rn(r,["placeholder","style","className","id","store","fieldName"]),u=t(s),p=u.dispatch,d=u.state;return e.createElement("input",Object.assign({type:"text",id:i,style:Sa({},o),className:a,value:d[l],defaultValue:window.Pelcro.user.read().metadata&&window.Pelcro.user.read().metadata[l],onChange:function(e){return t=e.target.value,void p({type:"SET_TEXT_FIELD",payload:Ve({},l,t)});var t},placeholder:n||l},c))}var _a=function(t){return e.createElement(Ca,Object.assign({},t,{store:aa}))};function ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Aa={disableSubmit:!1,firstName:"",lastName:"",line1:"",city:"",state:"",country:"",postalCode:"",states:[],countries:[]},Ta=o(Aa),Ra=Ta.Provider,La=function(t){var r=t.style,o=t.className,a=t.setView,i=t.type,s=void 0===i?"shipping":i,l=t.giftCode,c=void 0!==l&&l,u=(t.product,t.onSuccess),p=void 0===u?function(){}:u,d=t.children;n((function(){return window.Pelcro.insight.track("Modal Displayed",{name:"address"}),function(){}}),[]);var m=qe(Me((function(e,t){switch(t.type){case"SET_COUNTRY":return Be(ka({},e,{country:t.payload}));case"SET_STATE":return Be(ka({},e,{state:t.payload}));case He:return Be(ka({},e,{DISABLE_SUBMIT:t.payload}));case"SET_COUNTRIES":return Be(ka({},e,{countries:t.payload}));case"SET_FIRST_NAME":return Be(ka({},e,{firstName:t.payload}));case"SET_LAST_NAME":return Be(ka({},e,{lastName:t.payload}));case"SET_STATES":return Be(ka({},e,{states:t.payload}));case"SET_TEXT_FIELD":return Be(ka({},e,{},t.payload));case"HANDLE_SUBMIT":return ze(ka({},e,{disableSubmit:!0}),(function(e,t){return function(e,t){var r=e.firstName,n=e.lastName,o=e.line1,i=(e.line2,e.city),l=e.state,u=e.country,d=e.postalCode;t({type:He,payload:!0}),window.Pelcro.address.create({auth_token:window.Pelcro.user.read().auth_token,type:s,first_name:r,last_name:n,line1:o,city:i,state:l,country:u,postal_code:d},(function(e,r){if(e)return t({type:He,payload:!1}),Yr(Wr(e),"pelcro-error-address");if(c){var n=null;window.Pelcro.user.read().addresses&&(n=window.Pelcro.user.read().addresses[0].id),window.Pelcro.subscription.redeemGift({auth_token:window.Pelcro.user.read().auth_token,gift_code:c,address_id:n},(function(e,r){return t({type:He,payload:!1}),e?Yr(Wr(e),"pelcro-error-address"):(alert("You've subscription has been redeeemed."),a(""))}))}else t({type:He,payload:!1}),p()}))}(e,t)}));default:throw new Error}}),Aa),2),f=m[0],h=m[1];return e.createElement("div",{style:ka({},r),className:o},e.createElement(Ra,{value:{state:f,dispatch:h}},d.length?d.map((function(t,r){return e.cloneElement(t,{store:Ta,key:r})})):e.cloneElement(d,{store:Ta})))},Da=function(t){return e.createElement(ha,Object.assign({id:"pelcro-user-first-name",store:Ta},t))},Ia=function(t){return e.createElement(va,Object.assign({id:"pelcro-user-first-name",store:Ta},t))},Fa=function(t){return e.createElement(Ca,Object.assign({},t,{store:Ta}))},Va=function(r){var o=r.name,a=r.style,i=r.className,s=t(Ta),c=s.dispatch,u=s.state.disableSubmit;return n((function(){return console.log("SubmitCheckoutForm mounted")}),[]),l((function(){return e.createElement(mo,{onClick:function(){return c({type:"HANDLE_SUBMIT"})},text:o,disabled:u,style:a,className:i})}),[i,o,u,a])},qa=function(e){var t=[];for(var r in delete e.CA,delete e.US,e)t.push([r,e[r]]);return t.sort((function(e,t){return e[1]>t[1]?1:-1})),t.unshift(["US","United States"],["CA","Canada"]),t};function Ua(r){r.placeholder,r.style;var o=r.className,a=(r.id,r.store),i=rn(r,["placeholder","style","className","id","store"]),s=t(a),l=s.dispatch,c=s.state,u=c.country,p=c.countries,d=Re("address").t,m=function(e,t){e?Yr(e.message,"pelcro-error-address"):t&&l({type:"SET_COUNTRIES",payload:qa(t.countries)})};n((function(){p.length||window.Pelcro.geolocation.getCountryList(m)}),[]);return e.createElement(e.Fragment,null,e.createElement("select",Object.assign({value:u,onChange:function(e){l({type:"SET_COUNTRY",payload:e.target.value})},className:o,autoComplete:"country"},i),e.createElement("option",null," ",d("country")," "),function(){if(p.length)return console.log("createCountryItems -> countries",p),p.map((function(t){var r=qe(t,2),n=r[0],o=r[1];return e.createElement("option",{key:n,value:n},o)}))}()))}var Ma=function(t){return e.createElement(Ua,Object.assign({store:Ta},t))};function za(r){r.placeholder,r.style;var o=r.className,a=(r.id,r.store),i=rn(r,["placeholder","style","className","id","store"]),s=t(a),l=s.dispatch,c=s.state,u=c.country,p=(c.countries,c.state),d=c.states,m=Re("address").t;n((function(){f()}),[u]);var f=function(){window.Pelcro.geolocation.getStateList(h)},h=function(e,t){e?Yr(e.message,"pelcro-error-address"):t&&l({type:"SET_STATES",payload:t})},y=function(e){l({type:"SET_STATE",payload:e.target.value}),console.log("onStateChange -> e.target.value",e.target.value)};return d.states&&d.selected_country===u?e.createElement("select",Object.assign({value:p,onChange:y,className:o,autoComplete:"state",id:"pelcro-input-state"},i),e.createElement("option",null,m("region")),function(){var t=[];if(console.log("createStateItems -> stateItem",d),d.selected_country===u){if(Array.isArray(d.states)){for(var r in d.states){var n=d.states[r];t.push(e.createElement("option",{key:n.code,value:n.code},n.name))}return t}for(var o in d.states)t.push(e.createElement("option",{key:o,value:o},d.states[o]));return t}}()):e.createElement("input",Object.assign({type:"text",value:p,onChange:y,className:o,autoComplete:"country",id:"pelcro-input-country",placeholder:m("labels.region")},i))}var Ba=function(t){return e.createElement(za,Object.assign({store:Ta},t))},Ha=function(t){var r=Re("address").t;return e.createElement(La,t,e.createElement("div",{className:"pelcro-prefix-title-clock"},e.createElement("h4",null,r("title"))),e.createElement(gn,{name:"address"}),e.createElement("div",{className:"pelcro-prefix-form"},e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-first_name"},r("labels.firstName")," *"),e.createElement(Da,{className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"first-name",id:"pelcro-input-first_name",placeholder:r("labels.firstName")})),e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-last_name"},r("labels.lastName")," *"),e.createElement(Ia,{className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"last-name",id:"pelcro-input-last_name",placeholder:r("labels.lastName")}))),e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-12"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-line1"},r("labels.address")," *"),e.createElement(Fa,{fieldName:"line1",className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"street-address",id:"pelcro-input-line1",type:"text",placeholder:r("labels.address")}))),e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-postal_code"},r("labels.code")," *"),e.createElement(Fa,{fieldName:"postalCode",className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"postal-code",id:"pelcro-input-postal_code",type:"text",placeholder:r("labels.code")})),e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-city"},r("labels.city")," *"),e.createElement(Fa,{fieldName:"city",className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"address-level2",id:"pelcro-input-city",type:"text",placeholder:r("labels.city")}))),e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-country"},r("labels.country")," *"),e.createElement(Ma,{className:"pelcro-prefix-select pelcro-prefix-form-control",id:"pelcro-input-country"})),e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-region"},r("labels.region")," *"),e.createElement(Ba,{className:"pelcro-prefix-select pelcro-prefix-form-control"}))),e.createElement("small",{className:"pelcro-prefix-footnote pelcro-prefix-form-text"},"* ",r("labels.required")),e.createElement(Va,{name:r("buttons.submit"),id:"address-submit"})))},Wa=function(t){return e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{className:"pelcro-prefix-modal pelcro-prefix-fade pelcro-prefix-show",id:"pelcro-view-address",tabIndex:"-1",role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"pelcro-prefix-modal-dialog pelcro-prefix-modal-dialog-centered",role:"document"},e.createElement("div",{className:"pelcro-prefix-modal-content"},e.createElement(Qn,{closeButton:window.Pelcro.paywall.displayCloseButton(),resetView:function(){return t.setView("")},site:window.Pelcro.site.read()}),e.createElement("div",{className:"pelcro-prefix-modal-body"},e.createElement(Ha,t)),e.createElement("div",{className:"pelcro-prefix-modal-footer"},e.createElement(Zn,null))))))},Ga=function(t){var r=t.name,n=t.className,o=void 0===n?"pelcro-prefix-success-message pelcro-prefix-alert pelcro-prefix-alert-success":n,a=t.style,i=void 0===a?{display:"none"}:a;return e.createElement("div",{id:"pelcro-success-"+r,className:o,style:i},e.createElement("div",{className:"pelcro-prefix-error-message-text"},e.createElement("span",null,"Here is the alert text")),e.createElement("button",{name:"close",onClick:function(){Kr("pelcro-success-"+r)},className:"pelcro-prefix-alert-close pelcro-prefix-close"},e.createElement("span",null,"")))},Ya=function(t){var r=t.name,n=t.style,o=void 0===n?{display:"none"}:n,a=t.className,i=void 0===a?"pelcro-prefix-error-message pelcro-prefix-alert pelcro-prefix-alert-danger":a;return e.createElement("div",{id:"pelcro-error-"+r,className:i,style:o},e.createElement("div",{className:"pelcro-prefix-error-message-text"},e.createElement("span",null,"Here is the alert text")),e.createElement("button",{name:"close",onClick:function(){Gr("pelcro-error-"+r)},className:"pelcro-prefix-alert-close pelcro-prefix-close"},e.createElement("span",null,"")))},Ka=function(t){return e.createElement(So,t)},$a=function(t){return e.createElement(Co,t)},Ja=function(t){return e.createElement(_o,t)};function Qa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xa={disableSubmit:!1,firstName:"",lastName:"",line1:"",city:"",state:"",country:"",postalCode:"",states:[],countries:[]},ei=o(Xa),ti=ei.Provider,ri=function(t){var r=t.style,o=t.className,a=t.setView,i=t.type,s=void 0===i?"shipping":i,l=t.giftCode,c=void 0!==l&&l,u=(t.product,t.onSuccess),p=void 0===u?function(){}:u,d=t.children,m=t.addressId;n((function(){return window.Pelcro.insight.track("Modal Displayed",{name:"address"}),f(),function(){}}),[]);var f=function(){var e=window.Pelcro.address.list();for(var t in e){var r=e[t];+r.id==+m&&(Xa.firstName=r.first_name,Xa.lastName=r.last_name,Xa.line1=r.line1,Xa.line2=r.line2,Xa.city=r.city,Xa.state=r.state,Xa.country=r.country,Xa.postalCode=r.postal_code)}},h=qe(Me((function(e,t){switch(t.type){case"SET_COUNTRY":return Be(Za({},e,{country:t.payload}));case"SET_STATE":return Be(Za({},e,{state:t.payload}));case He:return Be(Za({},e,{DISABLE_SUBMIT:t.payload}));case"SET_COUNTRIES":return Be(Za({},e,{countries:t.payload}));case"SET_FIRST_NAME":return Be(Za({},e,{firstName:t.payload}));case"SET_LAST_NAME":return Be(Za({},e,{lastName:t.payload}));case"SET_STATES":return Be(Za({},e,{states:t.payload}));case"SET_TEXT_FIELD":return Be(Za({},e,{},t.payload));case"HANDLE_SUBMIT":return ze(Za({},e,{disableSubmit:!0}),(function(e,t){return function(e,t){var r=e.firstName,n=e.lastName,o=e.line1,i=(e.line2,e.city),l=e.state,u=e.country,d=e.postalCode;t({type:He,payload:!0}),window.Pelcro.address.update({address_id:m,auth_token:window.Pelcro.user.read().auth_token,type:s,first_name:r,last_name:n,line1:o,city:i,state:l,country:u,postal_code:d},(function(e,r){if(e)return t({type:He,payload:!1}),Yr(Wr(e),"pelcro-error-address");if(c){var n=null;window.Pelcro.user.read().addresses&&(n=window.Pelcro.user.read().addresses[0].id),window.Pelcro.subscription.redeemGift({auth_token:window.Pelcro.user.read().auth_token,gift_code:c,address_id:n},(function(e,r){return t({type:He,payload:!1}),e?Yr(Wr(e),"pelcro-error-address"):(alert("You've subscription has been redeeemed."),a(""))}))}else t({type:He,payload:!1}),p()}))}(e,t)}));default:throw new Error}}),Xa),2),y=h[0],b=h[1];return e.createElement("div",{style:Za({},r),className:o},e.createElement(ti,{value:{state:y,dispatch:b}},d.length?d.map((function(t,r){return e.cloneElement(t,{store:ei,key:r})})):e.cloneElement(d,{store:ei})))},ni=function(t){return e.createElement(Ua,Object.assign({store:ei},t))},oi=function(t){return e.createElement(ha,Object.assign({id:"pelcro-user-first-name",store:ei},t))},ai=function(t){return e.createElement(va,Object.assign({id:"pelcro-user-first-name",store:ei},t))},ii=function(t){return e.createElement(Ca,Object.assign({},t,{store:ei}))},si=function(r){var o=r.name,a=r.style,i=r.className,s=t(ei),c=s.dispatch,u=s.state.disableSubmit;return n((function(){return console.log("SubmitCheckoutForm mounted")}),[]),l((function(){return e.createElement(mo,{onClick:function(){return c({type:"HANDLE_SUBMIT"})},text:o,disabled:u,style:a,className:i})}),[i,o,u,a])},li=function(t){return e.createElement(za,Object.assign({store:ei},t))},ci=function(t){var r=Re("address").t;return e.createElement(ri,t,e.createElement("div",{className:"pelcro-prefix-title-clock"},e.createElement("h4",null,r("title"))),e.createElement(gn,{name:"address"}),e.createElement("div",{className:"pelcro-prefix-form"},e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-first_name"},r("labels.firstName")," *"),e.createElement(oi,{className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"first-name",id:"pelcro-input-first_name",placeholder:r("labels.firstName")})),e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-last_name"},r("labels.lastName")," *"),e.createElement(ai,{className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"last-name",id:"pelcro-input-last_name",placeholder:r("labels.lastName")}))),e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-12"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-line1"},r("labels.address")," *"),e.createElement(ii,{fieldName:"line1",className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"street-address",id:"pelcro-input-line1",type:"text",placeholder:r("labels.address")}))),e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-postal_code"},r("labels.code")," *"),e.createElement(ii,{fieldName:"postalCode",className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"postal-code",id:"pelcro-input-postal_code",type:"text",placeholder:r("labels.code")})),e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-city"},r("labels.city")," *"),e.createElement(ii,{fieldName:"city",className:"pelcro-prefix-input pelcro-prefix-form-control",autoComplete:"address-level2",id:"pelcro-input-city",type:"text",placeholder:r("labels.city")}))),e.createElement("div",{className:"pelcro-prefix-row"},e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-country"},r("labels.country")," *"),e.createElement(ni,{className:"pelcro-prefix-select pelcro-prefix-form-control",id:"pelcro-input-country"})),e.createElement("div",{className:"col-md-6"},e.createElement("label",{className:"pelcro-prefix-label",htmlFor:"pelcro-input-region"},r("labels.region")," *"),e.createElement(li,{className:"pelcro-prefix-select pelcro-prefix-form-control"}))),e.createElement("small",{className:"pelcro-prefix-footnote pelcro-prefix-form-text"},"* ",r("labels.required")),e.createElement(si,{name:r("buttons.submit"),id:"address-submit"})))},ui=function(t){return e.createElement("div",{className:"pelcro-prefix-view"},e.createElement("div",{className:"pelcro-prefix-modal pelcro-prefix-fade pelcro-prefix-show",id:"pelcro-view-address",tabIndex:"-1",role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"pelcro-prefix-modal-dialog pelcro-prefix-modal-dialog-centered",role:"document"},e.createElement("div",{className:"pelcro-prefix-modal-content"},e.createElement(Qn,{closeButton:window.Pelcro.paywall.displayCloseButton(),resetView:function(){return t.setView("")},site:window.Pelcro.site.read()}),e.createElement("div",{className:"pelcro-prefix-modal-body"},e.createElement(ci,t)),e.createElement("div",{className:"pelcro-prefix-modal-footer"},e.createElement(Zn,null))))))},pi=function(e){var t=document.getElementsByClassName("pelcro-login-button");if(0!==t.length)for(var r=0;r<t.length;r++)t[r].addEventListener("click",e.displayLoginView);var n=document.getElementById("pelcro-register-button");n&&n.addEventListener("click",e.displayRegisterView);var o=document.getElementById("pelcro-cart-button");o&&o.addEventListener("click",e.displayCartView);var a=document.getElementsByClassName("pelcro-subscribe-button");if(0!==a.length)for(var i=0;i<a.length;i++)a[i].dataset&&"productId"in a[i].dataset&&"planId"in a[i].dataset?a[i].addEventListener("click",e.setProductAndPlanByButton):a[i].dataset&&"productId"in a[i].dataset?a[i].addEventListener("click",e.setProduct):a[i].addEventListener("click",e.displaySelectView);var s=document.getElementsByClassName("pelcro-register-button");if(0!==s.length)for(var l=0;l<s.length;l++)s[l].addEventListener("click",e.displayRegisterView);var c=document.getElementsByClassName("pelcro-gift-button");if(0!==c.length)for(var u=0;u<c.length;u++)c[u].addEventListener("click",e.setGift)},di=function(e){var t=document.getElementsByClassName("pelcro-login-button");if(t)for(var r=0;r<t.length;r++)t.item(r).innerHTML="My account"},mi=function(e){var t=document.getElementsByClassName("pelcro-login-button");if(t)for(var r=0;r<t.length;r++)t.item(r).innerHTML="Login"};export{La as AddressCreateContainer,Ma as AddressCreateCountrySelect,Da as AddressCreateFirstName,Ia as AddressCreateLastName,Wa as AddressCreateModal,Ba as AddressCreateStateSelect,Va as AddressCreateSubmit,Fa as AddressCreateTextInput,Ha as AddressCreateView,ri as AddressUpdateContainer,ni as AddressUpdateCountrySelect,oi as AddressUpdateFirstName,ai as AddressUpdateLastName,ui as AddressUpdateModal,li as AddressUpdateStateSelect,si as AddressUpdateSubmit,ii as AddressUpdateTextInput,ci as AddressUpdateView,Ya as AlertDanger,Ga as AlertSuccess,zo as ApplyCouponButton,qo as CheckoutFormContainer,Ho as CheckoutFormView,dn as ConfirmPassword,Bo as CouponCode,ta as CreatePaymentModal,ea as CreatePaymentView,Xo as DashboardMenu,Jn as DashboardModal,Uo as DiscountedPrice,an as Email,hn as LoginButton,tn as LoginContainer,yn as LoginEmail,Xn as LoginModal,bn as LoginPassword,vn as LoginView,mn as Logout,Zo as MeterModal,Qo as MeterView,Jo as NewsLetter,cn as Password,Ko as PaymentSuccessModal,Yo as PaymentSuccessView,Ka as PelcroCardCVC,$a as PelcroCardExpiry,Ja as PelcroCardNumber,Dn as PelcroContainer,Yn as PlanName,jn as RegisterButton,Pn as RegisterContainer,Cn as RegisterEmail,eo as RegisterModal,_n as RegisterPassword,Sn as RegisterView,yo as SelectModal,Kn as ShipmentsRemaining,Mo as SubmitCheckoutForm,Wn as SubscriptionActionButton,Gn as SubscriptionStatus,$n as SubscriptionsListView,Go as UpdatePaymentMethodModal,Wo as UpdatePaymentMethodView,ua as UserUpdateButton,sa as UserUpdateContainer,la as UserUpdateEmail,ya as UserUpdateFirstName,Ea as UserUpdateLastName,da as UserUpdateModal,Oa as UserUpdatePhone,_a as UserUpdateTextInput,pa as UserUpdateView,di as authenticatedButtons,pi as initButtons,mi as unauthenticatedButtons};
